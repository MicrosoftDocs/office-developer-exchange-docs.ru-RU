---
title: Управление папкой "Входящие" и веб-службы Exchange
manager: sethgros
ms.date: 09/17/2015
ms.audience: Developer
localization_priority: Normal
ms.assetid: 3dfa0fc9-64bb-4d18-bff7-bf6b3bed4a0d
description: Узнайте, как управлять папкой "Входящие" в приложении, использующем управляемый API EWS или веб-службы Exchange, с помощью правил для папки "Входящие" и списка заблокированных отправителей.
ms.openlocfilehash: fe06c5ee87e2679506ca7247c5fc2c96912dee86
ms.sourcegitcommit: 34041125dc8c5f993b21cebfc4f8b72f0fd2cb6f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/11/2018
ms.locfileid: "19761135"
---
# <a name="inbox-management-and-ews-in-exchange"></a><span data-ttu-id="7fc95-103">Управление папкой "Входящие" и веб-службы Exchange</span><span class="sxs-lookup"><span data-stu-id="7fc95-103">Inbox management and EWS in Exchange</span></span>

<span data-ttu-id="7fc95-104">Узнайте, как управлять папкой "Входящие" в приложении, использующем управляемый API EWS или веб-службы Exchange, с помощью правил для папки "Входящие" и списка заблокированных отправителей.</span><span class="sxs-lookup"><span data-stu-id="7fc95-104">Find out how you can manage your Inbox in your EWS Managed API or EWS application by using Inbox rules and the blocked senders list.</span></span>
  
<span data-ttu-id="7fc95-p101">Почтовые ящики Exchange оснащены функциями, помогающими пользователям автоматически упорядочивать входящую почту. Все эти функции работают на сервере без участия пользователя, но предназначены для разных целей. Управляемый API EWS и веб-службы Exchange предоставляют доступ к этим функциям, позволяя вашим пользователям управлять своими папками "Входящие".</span><span class="sxs-lookup"><span data-stu-id="7fc95-p101">Exchange mailboxes come equipped with features to help users organize their incoming mail automatically. These features all operate on the server without user intervention, but they serve different needs. The EWS Managed API and EWS provide access to these features, enabling your users to manage their Inboxes.</span></span>
  
<span data-ttu-id="7fc95-108">**В таблице 1. Функции управления папки "Входящие"**</span><span class="sxs-lookup"><span data-stu-id="7fc95-108">**Table 1. Inbox management features**</span></span>

|<span data-ttu-id="7fc95-109">**Если вы хотите...**</span><span class="sxs-lookup"><span data-stu-id="7fc95-109">**If you want to…**</span></span>|<span data-ttu-id="7fc95-110">**Используйте...**</span><span class="sxs-lookup"><span data-stu-id="7fc95-110">**Use…**</span></span>|
|:-----|:-----|
|<span data-ttu-id="7fc95-111">Выполнение действий с входящими сообщениями (например, перенос в другую папку или удаление) на основе определенных условий (например, имени отправителя, темы или вложений)</span><span class="sxs-lookup"><span data-stu-id="7fc95-111">Take action on incoming messages (such as moving them to another folder or deleting them) based on specific criteria (such as sender, subject, or attachments)</span></span>  <br/> |<span data-ttu-id="7fc95-112">Правила для папки "Входящие"</span><span class="sxs-lookup"><span data-stu-id="7fc95-112">Inbox rules</span></span>  <br/> |
|<span data-ttu-id="7fc95-113">Удаление всех входящих сообщений от определенного отправителя</span><span class="sxs-lookup"><span data-stu-id="7fc95-113">Delete all incoming mail from a particular sender</span></span>  <br/> |<span data-ttu-id="7fc95-114">Список заблокированных отправителей</span><span class="sxs-lookup"><span data-stu-id="7fc95-114">Blocked Senders List</span></span>  <br/> |
   
## <a name="inbox-rules"></a><span data-ttu-id="7fc95-115">Правила для папки "Входящие"</span><span class="sxs-lookup"><span data-stu-id="7fc95-115">Inbox rules</span></span>
<span data-ttu-id="7fc95-116"><a name="bk_InboxRules"> </a></span><span class="sxs-lookup"><span data-stu-id="7fc95-116"></span></span>

<span data-ttu-id="7fc95-p102">Надо признать, не все электронные сообщения одинаково полезны. На каждое сообщение от начальника приходится по одному обновлению списка рассылки, от которого вы постоянно забываете отписаться. Хотя такие письма и интересны, списки рассылки используют огромное количество трафика, а важные сообщения запросто могут затеряться среди них в папке "Входящие". Чтобы сократить количество подобных сообщений, многие пользователи применяют правила для папки "Входящие". В результате папка приобретает намного более аккуратный вид. Приложение может применять такие правила с помощью веб-служб Exchange (EWS).</span><span class="sxs-lookup"><span data-stu-id="7fc95-p102">Let's face it: not every email message is created equal. For every email a user gets from his or her manager, there's one from an Internet cat video distribution list he or she joined years ago and never got around to leaving. While Internet cat videos are entertaining, the amount of traffic that distribution list gets can get out of hand, and important messages can easily be lost in the sea of distribution list mail in an Inbox. Many users turn to Inbox rules to help pare down those messages, and make their Inbox a much nicer place to be. With Exchange Web Services (EWS), your application can bring the power of rules to bear.</span></span>
  
<span data-ttu-id="7fc95-122">Управляемый API веб-служб Exchange предоставляет методы [ExchangeService.GetInboxRules](http://msdn.microsoft.com/en-us/library/microsoft.exchange.webservices.data.exchangeservice.getinboxrules%28v=exchg.80%29.aspx) и [ExchangeService.UpdateInboxRules](http://msdn.microsoft.com/en-us/library/microsoft.exchange.webservices.data.exchangeservice.updateinboxrules%28v=exchg.80%29.aspx) для работы с правилами.</span><span class="sxs-lookup"><span data-stu-id="7fc95-122">The EWS Managed API provides the [ExchangeService.GetInboxRules](http://msdn.microsoft.com/en-us/library/microsoft.exchange.webservices.data.exchangeservice.getinboxrules%28v=exchg.80%29.aspx) and [ExchangeService.UpdateInboxRules](http://msdn.microsoft.com/en-us/library/microsoft.exchange.webservices.data.exchangeservice.updateinboxrules%28v=exchg.80%29.aspx) methods for working with rules.</span></span> <span data-ttu-id="7fc95-123">Веб-служб Exchange предоставляет операции [GetInboxRules](http://msdn.microsoft.com/library/b4b2701a-4a23-4acc-8c75-19f7955ad7ae%28Office.15%29.aspx) и [UpdateInboxRules](http://msdn.microsoft.com/library/f982a237-471e-45c5-a2b5-468cfc53150b%28Office.15%29.aspx) для работы с правилами.</span><span class="sxs-lookup"><span data-stu-id="7fc95-123">EWS provides the [GetInboxRules](http://msdn.microsoft.com/library/b4b2701a-4a23-4acc-8c75-19f7955ad7ae%28Office.15%29.aspx) and [UpdateInboxRules](http://msdn.microsoft.com/library/f982a237-471e-45c5-a2b5-468cfc53150b%28Office.15%29.aspx) operations for working with rules.</span></span> <span data-ttu-id="7fc95-124">Тем не менее Обратите внимание на то, что управляемый API EWS и веб-служб Exchange, обладают следующими ограничениями при работе с помощью правил папки "Входящие":</span><span class="sxs-lookup"><span data-stu-id="7fc95-124">However, note that the EWS Managed API and EWS have the following limitations when working with Inbox rules:</span></span> 
  
- <span data-ttu-id="7fc95-125">Веб-службы Exchange не могут использовать и создавать правила "только для клиентов" или правила, настроенные в Outlook для работы только на текущем компьютере.</span><span class="sxs-lookup"><span data-stu-id="7fc95-125">EWS cannot access or create "client-only" rules or rules that are set in Outlook to run "on this computer only".</span></span>
    
- <span data-ttu-id="7fc95-p104">Чтобы изменить текущий набор правил с помощью веб-служб Exchange, необходимо удалить большой двоичный объект правил Outlook (если он существует). Это означает, что при изменении правил с помощью веб-служб Exchange удаляются все правила, отключенные ранее с помощью Outlook. </span><span class="sxs-lookup"><span data-stu-id="7fc95-p104">To change the current set of rules by using EWS, you have to remove the Outlook rules BLOB, if it is present. This means that using EWS to modify rules deletes any rules that were previously turned off (disabled) by using Outlook.</span></span> 
    
### <a name="how-do-rules-work"></a><span data-ttu-id="7fc95-128">Как работают правила?</span><span class="sxs-lookup"><span data-stu-id="7fc95-128">How do rules work?</span></span>
<span data-ttu-id="7fc95-129"><a name="bk_HowRulesWork"> </a></span><span class="sxs-lookup"><span data-stu-id="7fc95-129"></span></span>

<span data-ttu-id="7fc95-130">Обработчик правил действует как Привратник для почтового ящика пользователя.</span><span class="sxs-lookup"><span data-stu-id="7fc95-130">The rules engine acts as a gatekeeper to a user's mailbox.</span></span> <span data-ttu-id="7fc95-131">При получении сообщения в почтовом ящике пользователя, но до появления сообщения в папке "Входящие", это сообщение сравнивается упорядоченный список правил.</span><span class="sxs-lookup"><span data-stu-id="7fc95-131">As a message arrives in the user's mailbox, but before the message appears in the Inbox, that message is evaluated against an ordered list of rules.</span></span> <span data-ttu-id="7fc95-132">Обратите внимание на то, что это происходит только во время поступления и только в папке "Входящие".</span><span class="sxs-lookup"><span data-stu-id="7fc95-132">Note that this only occurs at arrival time, and only in the Inbox.</span></span> <span data-ttu-id="7fc95-133">Эти правила состоят из трех частей: [условия](#bk_Conditions), [действия](#bk_Actions)и [исключения](#bk_Exceptions).</span><span class="sxs-lookup"><span data-stu-id="7fc95-133">These rules are comprised of three parts: [Conditions](#bk_Conditions), [Actions](#bk_Actions), and [Exceptions](#bk_Exceptions).</span></span>
  
<span data-ttu-id="7fc95-134">Начиная с правила в начале списка, обработчик правил выполняет указанные ниже действия, пока не будет достигнут конец списка.</span><span class="sxs-lookup"><span data-stu-id="7fc95-134">Starting with the rule at the top of the rule list, the rules engine performs the following steps until it reaches the end of the list of rules:</span></span>
  
1. <span data-ttu-id="7fc95-135">Проверка соответствия сообщения всем условиям, указанным в правиле.</span><span class="sxs-lookup"><span data-stu-id="7fc95-135">Checks the message to determine whether it meets all the conditions specified in the rule.</span></span>
    
1. <span data-ttu-id="7fc95-136">Если сообщение соответствует всем условиям, обработчик правил переходит к этапу 2.</span><span class="sxs-lookup"><span data-stu-id="7fc95-136">If it meets all the conditions, evaluation continues with step 2.</span></span>
    
2. <span data-ttu-id="7fc95-137">Если же сообщение соответствует не всем условиям, обработчик правил загружает следующее правило в списке и повторяет этап 1.</span><span class="sxs-lookup"><span data-stu-id="7fc95-137">If it does not meet all the conditions, the rules engine loads the next rule in the rule list and starts over at step 1.</span></span>
    
2. <span data-ttu-id="7fc95-138">Проверка соответствия сообщения каким-либо из условий, указанных в правиле.</span><span class="sxs-lookup"><span data-stu-id="7fc95-138">Checks the message to determine whether it meets any of the exceptions specified in the rule.</span></span>
    
1. <span data-ttu-id="7fc95-139">Если сообщение соответствует какому-либо из исключений, обработчик правил загружает следующее правило в списке и повторяет этап 1.</span><span class="sxs-lookup"><span data-stu-id="7fc95-139">If it meets any of the exceptions, the rules engine loads the next rule in the rule list and starts over at step 1.</span></span>
    
2. <span data-ttu-id="7fc95-140">Если же сообщение не соответствует ни одному из исключений, обработчик переходит к этапу 3.</span><span class="sxs-lookup"><span data-stu-id="7fc95-140">If it does not meet any of the exceptions, evaluation continues with step 3.</span></span>
    
3. <span data-ttu-id="7fc95-141">Выполнение с сообщением действий, указанных в правиле.</span><span class="sxs-lookup"><span data-stu-id="7fc95-141">Performs the actions specified in the rule on the message.</span></span>
    
1. <span data-ttu-id="7fc95-142">Если указано действие "Остановить обработку других правил", обработчик правил выполняет с сообщением все остальные действия, а затем завершает работу, не сопоставляя сообщение с другими правилами.</span><span class="sxs-lookup"><span data-stu-id="7fc95-142">If the "stop processing more rules" action is specified, the rules engine performs all the other actions on the message, then exits without evaluating any additional rules against the message.</span></span>
    
2. <span data-ttu-id="7fc95-143">Если действие "Остановить обработку других правил" не указано, обработчик правил загружает следующее правило из списка и заново начинает работу с этапа 1.</span><span class="sxs-lookup"><span data-stu-id="7fc95-143">If the "stop processing more rules" action is not specified, the rules engine loads the next rule in the rule list and starts over at step 1.</span></span>
    
<span data-ttu-id="7fc95-144">На приведенном ниже рисунке показан процесс работы обработчика правил.</span><span class="sxs-lookup"><span data-stu-id="7fc95-144">The following figure shows the process that the rules engine follows.</span></span>
  
<span data-ttu-id="7fc95-145">**На рисунке 1: Общие сведения о правилах модуля**</span><span class="sxs-lookup"><span data-stu-id="7fc95-145">**Figure 1: Rules engine overview**</span></span>

![Диаграмма, на которой показаны шаги, используемые модулем правил, начиная с оценки правила, проверки выполнения критериев и выполнения действия или перехода к следующему правило до завершения процесса.](media/Ex15_Rules_EngineOverview.png)
  
### <a name="putting-the-pieces-together---parts-of-a-rule"></a><span data-ttu-id="7fc95-147">Объединения компоненты - частей правила</span><span class="sxs-lookup"><span data-stu-id="7fc95-147">Putting the pieces together - parts of a rule</span></span>
<span data-ttu-id="7fc95-148"><a name="bk_Pieces"> </a></span><span class="sxs-lookup"><span data-stu-id="7fc95-148"></span></span>

<span data-ttu-id="7fc95-149">Одним из способов для визуализации части правило — Предположим, что вы предоставляете инструкции для человека, который получает задачу Упорядочение параметров входящей электронной почты.</span><span class="sxs-lookup"><span data-stu-id="7fc95-149">One way to visualize the parts of a rule is to imagine that you are giving instructions to someone who is tasked with organizing your incoming email.</span></span> <span data-ttu-id="7fc95-150">Можно сказать для этого пользователя: «при поступлении сообщения \<Вставьте здесь условий\>, выполните \<Вставьте здесь действия\>, если сообщение \<Вставьте здесь исключения\>.</span><span class="sxs-lookup"><span data-stu-id="7fc95-150">You might say to this person: "When a message arrives that \<insert conditions here\>, do \<insert actions here\>, unless the message \<insert exceptions here\>.</span></span> <span data-ttu-id="7fc95-151">Давайте рассмотрим более подробно каждая часть.</span><span class="sxs-lookup"><span data-stu-id="7fc95-151">Let's take a closer look at each part.</span></span>
  
#### <a name="conditions"></a><span data-ttu-id="7fc95-152">Условия</span><span class="sxs-lookup"><span data-stu-id="7fc95-152">Conditions</span></span>
<span data-ttu-id="7fc95-153"><a name="bk_Conditions"> </a></span><span class="sxs-lookup"><span data-stu-id="7fc95-153"></span></span>

<span data-ttu-id="7fc95-154">[Условия](http://msdn.microsoft.com/library/f049a48c-9585-43f7-8549-0b8cb19a5eea%28Office.15%29.aspx) описывается, когда требуется применить правило.</span><span class="sxs-lookup"><span data-stu-id="7fc95-154">[Conditions](http://msdn.microsoft.com/library/f049a48c-9585-43f7-8549-0b8cb19a5eea%28Office.15%29.aspx) describe when a rule should be applied.</span></span> <span data-ttu-id="7fc95-155">Можно опустить условиям правила (приведет к правило, которое применяется к каждому сообщению получено), он гораздо более общие для правил, чтобы иметь условия, которые применяются к подмножеству входящих сообщений.</span><span class="sxs-lookup"><span data-stu-id="7fc95-155">While you can omit the conditions of a rule (resulting in a rule that applies to every message received), it is far more common for rules to have conditions that apply to a subset of incoming messages.</span></span> <span data-ttu-id="7fc95-156">Примеры: «при использовании сообщение из Sadie» или «когда сообщение отправлено в список рассылки «Кошка Lovers видео»».</span><span class="sxs-lookup"><span data-stu-id="7fc95-156">Some examples are "when a message is from Sadie" or "when a message is sent to the 'Cat Video Lovers' distribution list".</span></span> <span data-ttu-id="7fc95-157">Правила могут иметь несколько условий.</span><span class="sxs-lookup"><span data-stu-id="7fc95-157">Rules can have multiple conditions.</span></span> <span data-ttu-id="7fc95-158">Если правила имеют более одного условия, чтобы обработчик правил указанного действия должны быть выполнены все условия.</span><span class="sxs-lookup"><span data-stu-id="7fc95-158">When rules have more than one condition, all the conditions must be met in order for the rules engine to take the specified action.</span></span> 
  
#### <a name="actions"></a><span data-ttu-id="7fc95-159">Действия</span><span class="sxs-lookup"><span data-stu-id="7fc95-159">Actions</span></span>
<span data-ttu-id="7fc95-160"><a name="bk_Actions"> </a></span><span class="sxs-lookup"><span data-stu-id="7fc95-160"></span></span>

<span data-ttu-id="7fc95-161">[Действия](http://msdn.microsoft.com/library/c5aa96b1-2d8b-422f-8c2f-f118572ab23f%28Office.15%29.aspx) описывают, что происходит, когда применяется правило.</span><span class="sxs-lookup"><span data-stu-id="7fc95-161">[Actions](http://msdn.microsoft.com/library/c5aa96b1-2d8b-422f-8c2f-f118572ab23f%28Office.15%29.aspx) describe what happens when a rule applies.</span></span> <span data-ttu-id="7fc95-162">Примерами являются «переместить сообщение в папку «Кошки»» или «пометить сообщение с «Низкий» важность».</span><span class="sxs-lookup"><span data-stu-id="7fc95-162">Examples are "move the message to the 'Cats' folder" or "mark the message with 'Low' importance".</span></span> <span data-ttu-id="7fc95-163">Правила могут иметь несколько действий.</span><span class="sxs-lookup"><span data-stu-id="7fc95-163">Rules can have multiple actions.</span></span> <span data-ttu-id="7fc95-164">При указании нескольких действий для правила выполнены все действия, когда правило будет применяться.</span><span class="sxs-lookup"><span data-stu-id="7fc95-164">When you specify multiple actions for a rule, all the actions are performed when the rule is applied.</span></span> 
  
#### <a name="exceptions"></a><span data-ttu-id="7fc95-165">Исключения</span><span class="sxs-lookup"><span data-stu-id="7fc95-165">Exceptions</span></span>
<span data-ttu-id="7fc95-166"><a name="bk_Exceptions"> </a></span><span class="sxs-lookup"><span data-stu-id="7fc95-166"></span></span>

<span data-ttu-id="7fc95-167">[Исключения](http://msdn.microsoft.com/library/7cd63ac2-3441-4ed4-915b-6f90af4b28fc%28Office.15%29.aspx) описаны при правило не применяется, даже при выполнении условий, указанных в условиях.</span><span class="sxs-lookup"><span data-stu-id="7fc95-167">[Exceptions](http://msdn.microsoft.com/library/7cd63ac2-3441-4ed4-915b-6f90af4b28fc%28Office.15%29.aspx) describe when a rule should not apply, even if the criteria specified in the conditions are met.</span></span> <span data-ttu-id="7fc95-168">Примеры: «за исключением, если сообщение отправляется только для меня» или «за исключением Если сообщение получено от Mom».</span><span class="sxs-lookup"><span data-stu-id="7fc95-168">Examples are "except if the message is sent only to me" or "except if the message is from Mom".</span></span> <span data-ttu-id="7fc95-169">Правило может иметь несколько исключений.</span><span class="sxs-lookup"><span data-stu-id="7fc95-169">A rule can have multiple exceptions.</span></span> <span data-ttu-id="7fc95-170">Если правила имеют более одного исключение, и выполняются какие-либо исключения, правило не применяется.</span><span class="sxs-lookup"><span data-stu-id="7fc95-170">When rules have more than one exception, and any of the exceptions are met, the rule is not applied.</span></span> 
  
### <a name="example-herding-those-cats"></a><span data-ttu-id="7fc95-171">Пример. "Кошки не пройдут"</span><span class="sxs-lookup"><span data-stu-id="7fc95-171">Example: Herding those cats</span></span>
<span data-ttu-id="7fc95-172"><a name="bk_Example"> </a></span><span class="sxs-lookup"><span data-stu-id="7fc95-172"></span></span>

<span data-ttu-id="7fc95-p110">Посмотрим, как с помощью правил пользователи могут избежать проблем с трафиком, создаваемых списком рассылки с видео про кошек. Сделаем следующие предположения:</span><span class="sxs-lookup"><span data-stu-id="7fc95-p110">Let's take a look at how your users can use rules to eliminate the traffic from that Internet cat video distribution list. Let's assume the following:</span></span>
  
- <span data-ttu-id="7fc95-175">Эти сообщения отправляются в список рассылки под названием "Любители кошек".</span><span class="sxs-lookup"><span data-stu-id="7fc95-175">These messages are sent to a distribution list called "Internet Cat Video Enthusiasts".</span></span>
    
- <span data-ttu-id="7fc95-176">Пользователям необходимо прочитать эти сообщения в конечном счете, просто не требуется их переполнения папки входящих сообщений.</span><span class="sxs-lookup"><span data-stu-id="7fc95-176">Your users want to read these messages eventually, they just don't want them cluttering their Inbox.</span></span> <span data-ttu-id="7fc95-177">Они будут вместо хранить их в папку с именем «Кошки».</span><span class="sxs-lookup"><span data-stu-id="7fc95-177">They'd rather file them in a folder called "Cats".</span></span>
    
- <span data-ttu-id="7fc95-178">Но пользователи хотят сразу читать сообщения, отправленные в этот список рассылки их мамами, ведь мама всегда находит самые забавные видео.</span><span class="sxs-lookup"><span data-stu-id="7fc95-178">Your users want to read messages sent to this distribution list by their mother right away, because Mom sends the funniest videos.</span></span>
    
<span data-ttu-id="7fc95-179">Обработчику правил задается следующая установка: "Когда приходит сообщение, отправленное в список рассылки «Любители кошек», переместить его в папку «Кошки», если это сообщение не от мамы". </span><span class="sxs-lookup"><span data-stu-id="7fc95-179">This tells the rules engine the following: "When a message arrives that is sent to the 'Internet Cat Video Enthusiasts' distribution list, move it to the 'Cats' folder, unless the message is from Mom."</span></span> 
  
<span data-ttu-id="7fc95-180">**В таблице 2. Определение правила**</span><span class="sxs-lookup"><span data-stu-id="7fc95-180">**Table 2. Rule definition**</span></span>

|<span data-ttu-id="7fc95-181">**Часть "правила"**</span><span class="sxs-lookup"><span data-stu-id="7fc95-181">**Rule part**</span></span>|<span data-ttu-id="7fc95-182">**Значение**</span><span class="sxs-lookup"><span data-stu-id="7fc95-182">**Value**</span></span>|
|:-----|:-----|
|<span data-ttu-id="7fc95-183">Условия</span><span class="sxs-lookup"><span data-stu-id="7fc95-183">Conditions</span></span>  <br/> |<span data-ttu-id="7fc95-184">Отправлено в список рассылки "Любители кошек"</span><span class="sxs-lookup"><span data-stu-id="7fc95-184">Sent to the 'Internet Cat Video Enthusiasts' distribution list</span></span>  <br/> |
|<span data-ttu-id="7fc95-185">Действия</span><span class="sxs-lookup"><span data-stu-id="7fc95-185">Actions</span></span>  <br/> |<span data-ttu-id="7fc95-186">Переместить сообщение в папку "Кошки"</span><span class="sxs-lookup"><span data-stu-id="7fc95-186">Move the message to the 'Cats' folder</span></span>  <br/> <span data-ttu-id="7fc95-187">И остановить обработку других правил</span><span class="sxs-lookup"><span data-stu-id="7fc95-187">AND stop processing more rules</span></span>  <br/> |
|<span data-ttu-id="7fc95-188">Исключения</span><span class="sxs-lookup"><span data-stu-id="7fc95-188">Exceptions</span></span>  <br/> |<span data-ttu-id="7fc95-189">Отправитель сообщения — "Мама"</span><span class="sxs-lookup"><span data-stu-id="7fc95-189">From 'Mom'</span></span>  <br/> |
   
> [!NOTE]
> <span data-ttu-id="7fc95-p112">Обратите внимание, что полученное в итоге правило содержит действие "Остановить обработку других правил". Как правило, рекомендуется добавлять это действие, чтобы избежать путаницы с правилами, применяемыми к тому или иному сообщению. Тем не менее, пропустив это действие и правильно упорядочив правила, можно добиться более точной обработки входящей почты. В данном случае можно с уверенностью сказать, что для видео с кошками не требуется тщательной обработки.</span><span class="sxs-lookup"><span data-stu-id="7fc95-p112">Notice that "stop processing more rules" is one of the actions in the resulting rule. In general it's a good idea to include this action to avoid confusion over which rules act on any given message. However, by omitting this action and properly ordering your rules, you can achieve more advanced processing of your incoming mail. In this case, it's probably a safe bet that Internet cat video messages don't require much in the way of advanced processing.</span></span> 
  
<span data-ttu-id="7fc95-p113">Вскоре после создания этого правила поступает новое сообщение. Ваша коллега, Лилия, отправляет сообщение в список рассылки. Мысленно выполнив работу обработчика правил, мы увидим, что сообщение отвечает всем условиям (оно отправлено в список рассылки "Любители кошек") и не попадает ни под одно из исключений (оно не отправлено мамой), поэтому правило применяется, а сообщение перемещается в папку "Кошки".</span><span class="sxs-lookup"><span data-stu-id="7fc95-p113">Shortly after creating this rule, a new message comes in. A coworker Hope sends a message to the distribution list. If we mentally perform the work of the rules engine, the message meets all the conditions (it is sent to 'Internet Cat Videos Enthusiasts'), and it meets none of the exceptions (it isn't from 'Mom'), so the rule applies and the message gets moved to the 'Cats' folder.</span></span>
  
<span data-ttu-id="7fc95-197">На приведенном ниже рисунке показано, как правило применяется к входящему сообщению.</span><span class="sxs-lookup"><span data-stu-id="7fc95-197">The following figure shows how the rule is applied to an incoming mail message.</span></span>
  
<span data-ttu-id="7fc95-198">**На рисунке 2. Входящее сообщение обрабатывается правилом**</span><span class="sxs-lookup"><span data-stu-id="7fc95-198">**Figure 2. Incoming message is processed by a rule**</span></span>

![Рисунок, на котором показано новое сообщение, отправляемое в список рассылки коллегой. Это сообщение удовлетворяет всем условиям, в правиле не задано ни одно исключение. Сообщение перемещается в папку Cats.](media/Ex15_Rules_RuleEvaluationSample.png)
  
## <a name="blocking-senders"></a><span data-ttu-id="7fc95-201">Блокировка отправителей</span><span class="sxs-lookup"><span data-stu-id="7fc95-201">Blocking senders</span></span>
<span data-ttu-id="7fc95-202"><a name="bk_Blocking"> </a></span><span class="sxs-lookup"><span data-stu-id="7fc95-202"></span></span>

<span data-ttu-id="7fc95-203">Несмотря на то, что можно создать правило, которое будет переместить все почтовые сообщения от определенного отправителя в папку нежелательной почты, можно сделать это с помощью список заблокированных отправителей в параметры нежелательной почты.</span><span class="sxs-lookup"><span data-stu-id="7fc95-203">Although you can create a rule that will move all mail from a specific sender to the Junk Mail folder, you can also do this by using the Blocked Senders List in your Junk Email options.</span></span> <span data-ttu-id="7fc95-204">Поскольку существует ограничение на количество правил, пользователь может иметь, имеет смысл использовать список заблокированных отправителей.</span><span class="sxs-lookup"><span data-stu-id="7fc95-204">Because there is a limit to how many rules a user can have, it makes sense to use the Blocked Senders List.</span></span> <span data-ttu-id="7fc95-205">С помощью метода управляемый API EWS [ExchangeService.MarkAsJunk](http://msdn.microsoft.com/en-us/library/microsoft.exchange.webservices.data.exchangeservice.markasjunk%28v=exchg.80%29.aspx) или операции EWS [MarkAsJunk](http://msdn.microsoft.com/library/1f71f04d-56a9-4fee-a4e7-d1034438329e%28Office.15%29.aspx) можно [Добавить или удалить адреса определенных электронной почты в списке заблокированных отправителей](how-to-add-and-remove-email-addresses-from-blocked-senders-list-by-using-ews.md) .</span><span class="sxs-lookup"><span data-stu-id="7fc95-205">You can [add or remove specific email addresses from the Blocked Senders List](how-to-add-and-remove-email-addresses-from-blocked-senders-list-by-using-ews.md) by using the [ExchangeService.MarkAsJunk](http://msdn.microsoft.com/en-us/library/microsoft.exchange.webservices.data.exchangeservice.markasjunk%28v=exchg.80%29.aspx) EWS Managed API method or the [MarkAsJunk](http://msdn.microsoft.com/library/1f71f04d-56a9-4fee-a4e7-d1034438329e%28Office.15%29.aspx) EWS operation.</span></span> <span data-ttu-id="7fc95-206">Обратите внимание на то, что для веб-служб Exchange для доступа к списку заблокированных отправителей, почтовый ящик пользователя должен содержать сообщение электронной почты с адреса электронной почты, который нужно добавить или удалить.</span><span class="sxs-lookup"><span data-stu-id="7fc95-206">Note that in order for EWS to access the Blocked Senders List, the user's mailbox must contain an email message from the email address that you want to add or remove.</span></span> 
  
## <a name="in-this-section"></a><span data-ttu-id="7fc95-207">В этом разделе</span><span class="sxs-lookup"><span data-stu-id="7fc95-207">In this section</span></span>
<span data-ttu-id="7fc95-208"><a name="bk_InThisSection"> </a></span><span class="sxs-lookup"><span data-stu-id="7fc95-208"></span></span>

- [<span data-ttu-id="7fc95-209">Управление правилами папки "Входящие" с помощью веб-служб Exchange в Exchange</span><span class="sxs-lookup"><span data-stu-id="7fc95-209">Manage Inbox rules by using EWS in Exchange</span></span>](how-to-manage-inbox-rules-by-using-ews-in-exchange.md)
    
- [<span data-ttu-id="7fc95-210">Добавление и удаление адреса электронной почты в списке заблокированных отправителей с помощью веб-служб Exchange в Exchange</span><span class="sxs-lookup"><span data-stu-id="7fc95-210">Add and remove email addresses from the Blocked Senders List by using EWS in Exchange</span></span>](how-to-add-and-remove-email-addresses-from-blocked-senders-list-by-using-ews.md)
    
## <a name="see-also"></a><span data-ttu-id="7fc95-211">См. также</span><span class="sxs-lookup"><span data-stu-id="7fc95-211">See also</span></span>


- [<span data-ttu-id="7fc95-212">Разработка клиентов веб-служб для Exchange</span><span class="sxs-lookup"><span data-stu-id="7fc95-212">Develop web service clients for Exchange</span></span>](develop-web-service-clients-for-exchange.md)
    
- [<span data-ttu-id="7fc95-213">Операция GetInboxRules</span><span class="sxs-lookup"><span data-stu-id="7fc95-213">GetInboxRules operation</span></span>](http://msdn.microsoft.com/library/b4b2701a-4a23-4acc-8c75-19f7955ad7ae%28Office.15%29.aspx)
    
- [<span data-ttu-id="7fc95-214">Операция UpdateInboxRules</span><span class="sxs-lookup"><span data-stu-id="7fc95-214">UpdateInboxRules operation</span></span>](http://msdn.microsoft.com/library/f982a237-471e-45c5-a2b5-468cfc53150b%28Office.15%29.aspx)
    
- [<span data-ttu-id="7fc95-215">MarkAsJunk Operation</span><span class="sxs-lookup"><span data-stu-id="7fc95-215">MarkAsJunk operation</span></span>](http://msdn.microsoft.com/library/1f71f04d-56a9-4fee-a4e7-d1034438329e%28Office.15%29.aspx)
    

