---
title: Функция функция cchksgfiles. Еррчекклогс
manager: sethgros
ms.date: 11/16/2014
ms.audience: Developer
ms.topic: overview
ms.prod: office-online-server
localization_priority: Normal
api_name:
- ErrCheckLogs
api_type:
- dllExport
ms.assetid: cec0df4b-4679-4682-bacf-69b4f4aef343
description: 'Дата последнего изменения: 22 февраля 2013 г.'
ms.openlocfilehash: 71e21bb3a748a532f9e3167e0b36898acde71b02
ms.sourcegitcommit: 88ec988f2bb67c1866d06b361615f3674a24e795
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/03/2020
ms.locfileid: "44526720"
---
# <a name="cchksgfileserrchecklogs-function"></a>Функция функция cchksgfiles. Еррчекклогс

**Применимо к:** Exchange Server 2003 | Exchange Server 2007 | Exchange Server 2010 | Exchange Server 2013
  
Проверяет файлы журнала всех файлов базы данных, указанных в функции **ерринит** . Проверенные журналы — это те, которые существуют в пути, и имя файла журнала из трех букв передается в **ерринит**.
  
```cs
Vitual ERRErrCheckLogs 
(
        BOOL  * const pfOnlyUnnecessaryLogsCorrup,
    Const ULONGulFlags = NO_FLAGS
);

```

## <a name="parameters"></a>Параметры

### <a name="pfonlyunnecessarylogscorrupt"></a>пфонлюннецессарилогскоррупт 
  
Выходной параметр. Если задано **значение true**, этот параметр указывает на то, что в файлах журнала транзакций обнаружены ошибки, но все эти ошибки были найдены в файлах журнала, которые не требовалось для переноса базы данных в состояние чистого отключения без потери данных. Значение **true** , возвращаемое в этом параметре, допустимо только в том случае, если **еррчекклогс** возвращает **еррсукцесс**. 
    
### <a name="ulflags"></a>ulFlags
  
Необязательный входной параметр. Это значение зарезервировано для использования в будущем. Значение, передаваемое этим параметром, должно быть равно 0 (нулю).
    
## <a name="return-value"></a>Возвращаемое значение

Код ошибки из перечисления [Err](cchksgfiles-err-enumeration.md) . 
  
Важно помнить, что эта функция может возвращать **еррсукцесс** , даже если в файлах журналов обнаружены ошибки. Таким образом, когда **еррчекклогс** возвращает **еррсукцесс**, приложение также должно проверить возвращаемый параметр **пфонлюннецессарилогскоррупт** . Если **пфонлюннецессарилогскорруптс** имеет **значение true** , когда **еррчекклогс** возвращает **еррсукцесс**, это указывает на то, что обнаружена одна или несколько ошибок, а не только те файлы журнала, которые не требуются для обновления базы данных.
  
## <a name="remarks"></a>Примечания

Перед вызовом функции **еррчекклогс** необходимо вызвать функцию **еррчеккдбхеадерс** . 
  
Когда проверяются файлы журналов транзакций базы данных Exchange, некоторые файлы журналов необходимы для переноса баз данных из группы хранения в состояние чистого отключения без потери данных, в то время как другие файлы журналов могут быть не нужны. Функция **еррчекклогс** определяет как старейшие, так и самые новые файлы журналов, необходимые для обновления баз данных. 
  
Функция **еррчекклогс** проверяет все файлы журналов по указанным путям, у которых также указано имя базового файла из трех букв, переданное в функцию **ерринит** . 
  
Если в файлах журнала ошибок не обнаружено, **еррчекклогс** возвращает **еррсукцесс**. 
  
Если один из необходимых файлов журнала поврежден, **еррчекклогс** возвращает ошибку. 
  
Если ошибки обнаружены только в файлах журнала, которые старше самых ранних требуемых, функция возвращает **еррсукцесс** и задает для параметра return **пфонлюннецессарилогкоррупт** **значение true**. Приложение должно распознать наличие ошибок в некоторых старых файлах журнала и, если это так, может предупредить пользователя. В любом случае эти ошибки не повлияют на общую целостность базы данных или на то, могут ли успешно воспроизводиться журналы.
  
Если ошибки найдены в любом файле журнала, созданном после того, как будет определен самый ранний журнал, который **еррчекклогс** определяет, функция возвращает ошибку. Сообщение об ошибке возвращается даже в том случае, если в файле журнала, созданном позже, было обнаружено сообщение об ошибке файла журнала, которое было создано позже, чем требуется для обновления базы данных. Несмотря на то, что вы сможете перевести базы данных в состояние чистого отключения с помощью указанных файлов журнала, не будут применены транзакции, указанные в последующих поврежденных файлах журнала, что приведет к потере данных при восстановлении базы данных. 
  
Объект **функция cchksgfiles** определяет, действительно ли проверены все файлы журналов, зарегистрированные с помощью функции **ерринит** . Если не все журналы не были успешно проверены, функция **ерртерм** возвращает ошибку. 
  
Если вы используете ЧКСГФИЛЕС в многопоточном приложении, вы можете вызвать функцию **еррчекклогс** в многопоточной части приложения, но вы можете вызвать ее только один раз для каждого объекта **кчекксгфилес** . 
  
## <a name="requirements"></a>Requirements

Exchange 2013 включает только 64-разрядную версию API ЧКСГФИЛЕС.
  
Учетная запись, под которой выполняется приложение, должна иметь разрешения на чтение для базы данных и файлов журнала, которые необходимо проверить.
  

