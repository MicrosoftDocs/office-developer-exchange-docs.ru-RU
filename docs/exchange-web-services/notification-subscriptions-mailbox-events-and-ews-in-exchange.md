---
title: Подписки на уведомления, события почтовых ящиков и службы EWS в Exchange
manager: sethgros
ms.date: 09/17/2015
ms.audience: Developer
ms.assetid: 76136f28-0dad-4ecc-9dd7-a45a1861e4b0
description: Сведения о подписках на уведомления и событии почтовых ящиков в EWS в Exchange.
localization_priority: Priority
ms.openlocfilehash: 00a0941e615f35a46bb77c00648b75fcd2a45286
ms.sourcegitcommit: 843a2e030a94b12aec70c553ca4e06e39ac02d82
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/09/2020
ms.locfileid: "49603843"
---
# <a name="notification-subscriptions-mailbox-events-and-ews-in-exchange"></a><span data-ttu-id="45113-103">Подписки на уведомления, события почтовых ящиков и службы EWS в Exchange</span><span class="sxs-lookup"><span data-stu-id="45113-103">Notification subscriptions, mailbox events, and EWS in Exchange</span></span>

<span data-ttu-id="45113-104">Сведения о подписках на уведомления и событии почтовых ящиков в EWS в Exchange.</span><span class="sxs-lookup"><span data-stu-id="45113-104">Find out about notification subscriptions and mailbox event in EWS in Exchange.</span></span>
  
<span data-ttu-id="45113-p101">Чтобы подписаться на уведомления о событиях, возникающих в почтовом ящике или в одной или нескольких папках почтового ящика, можно использовать управляемый API EWS или веб-службы Exchange (EWS). Доступно три типа подписки: на потоковые уведомления, на уведомления по запросу и на push-уведомления. Каждый тип подписки использует собственные методы для получения уведомлений.</span><span class="sxs-lookup"><span data-stu-id="45113-p101">You can use both the EWS Managed API and Exchange Web Services (EWS) to subscribe to receive notifications when events occur in a mailbox, or in one or more of the folders in a mailbox. Three subscription types are available: streaming notifications, pull notifications, and push notifications. Each of these subscription types uses different techniques to receive or retrieve the notifications.</span></span>
  
## <a name="getting-notifications---what-are-my-options"></a><span data-ttu-id="45113-108">Какие уведомления выбрать?</span><span class="sxs-lookup"><span data-stu-id="45113-108">Getting notifications - what are my options?</span></span>
<span data-ttu-id="45113-109"><a name="bk_notiftypes"> </a></span><span class="sxs-lookup"><span data-stu-id="45113-109"><a name="bk_notiftypes"> </a></span></span>

<span data-ttu-id="45113-p102">Службы EWS предлагают три типа подписки, которые независимо друг от друга уведомляют клиента об изменениях на сервере. Не имеет значения, какую именно подписку вы выберете, вы получите те же самые события уведомлений, отличаться будет только способ получения.</span><span class="sxs-lookup"><span data-stu-id="45113-p102">EWS includes three subscription types that work independently to notify the client of changes on the server. No matter which subscription type you choose, you'll have access to all the same notification events in the end - it's just a matter of how you get them.</span></span>
  
<span data-ttu-id="45113-112">**Таблица 1. Типы подписки**</span><span class="sxs-lookup"><span data-stu-id="45113-112">**Table 1. Subscription types**</span></span>

|<span data-ttu-id="45113-113">**Вариант**</span><span class="sxs-lookup"><span data-stu-id="45113-113">**Option**</span></span>|<span data-ttu-id="45113-114">**Описание**</span><span class="sxs-lookup"><span data-stu-id="45113-114">**Description**</span></span>|<span data-ttu-id="45113-115">**Насколько мне это подходит?**</span><span class="sxs-lookup"><span data-stu-id="45113-115">**Is it right for me?**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="45113-116">Потоковые уведомления</span><span class="sxs-lookup"><span data-stu-id="45113-116">Streaming notifications</span></span>  <br/> |<span data-ttu-id="45113-117">Уведомления, которые сервер отправляет через соединение, открытое в течение определенного периода времени.</span><span class="sxs-lookup"><span data-stu-id="45113-117">Notifications that are sent by the server through a connection that remains open for a specified period of time.</span></span>  <br/> |<span data-ttu-id="45113-p103">Потоковые уведомления рекомендуются для большинства приложений. Они похожи на уведомления по запросу и push-уведомления и объединяют в себе свойства обоих указанных типов. После создания подписки на уведомления соединение остается открытым до 30 минут, чтобы сервер успел передать уведомления клиенту. В данном случае не требуется запрашивать обновления, как при подписке на уведомления по запросу. Кроме того, не требуется создавать приложение прослушивателя для веб-службы, которое необходимо для получения push-уведомлений.</span><span class="sxs-lookup"><span data-stu-id="45113-p103">Streaming notifications are generally recommended for most applications. They're similar to pull and push notifications, and offer the best of both worlds. After you establish your notification subscription, the connection remains open for up to 30 minutes to allow the server to push notifications back to the client. No need to request updates, like you would with a pull subscription, and you don't have to create a web service listener application like you would with a push subscription.</span></span>  <br/> |
|<span data-ttu-id="45113-122">Уведомления по запросу</span><span class="sxs-lookup"><span data-stu-id="45113-122">Pull notifications</span></span>  <br/> |<span data-ttu-id="45113-123">Уведомления, запрашиваемые или извлекаемые клиентом.</span><span class="sxs-lookup"><span data-stu-id="45113-123">Notifications that are requested (or pulled) by the client.</span></span>  <br/> |<span data-ttu-id="45113-p104">Уведомления по запросу больше подходят для слабо связанных клиентов, где клиент ненадежно подключен к сети. Эти уведомления могут создавать дополнительный трафик между клиентом и сервером, так как клиент отправляет частые запросы к серверу для получения уведомлений, не все из которых приносят результат.</span><span class="sxs-lookup"><span data-stu-id="45113-p104">Pull notifications are generally most appropriate for loosely coupled clients, where the client is not reliably connected to the network. Pull notifications can create excess traffic between the client and the server because the client is sending frequent requests to the server to retrieve notifications, and not all requests result in notifications retrieved.</span></span>  <br/> |
|<span data-ttu-id="45113-126">Push-уведомления</span><span class="sxs-lookup"><span data-stu-id="45113-126">Push notifications</span></span>  <br/> |<span data-ttu-id="45113-127">Уведомления, отправляемые (или принудительно отправляемые) сервером в веб-службу на стороне клиента через адрес обратного вызова.</span><span class="sxs-lookup"><span data-stu-id="45113-127">Notifications that are sent (or pushed) by the server to a client-side web service via a callback address.</span></span>  <br/> |<span data-ttu-id="45113-p105">Как правило, push-уведомления приходят быстрее, чем уведомления по запросу. Кроме того, они подходят для сильно связанных клиентов с IP-адресом, к которым у сервера есть надежный доступ. Тем не менее push-уведомления стали реже использовать после появления потоковых уведомлений в Exchange 2010. Мы также рекомендуем использовать потоковые уведомления вместо push-уведомлений, если это возможно. Кроме того, для использования push-уведомлений требуется написать приложение прослушивателя, в котором и происходит принудительная отправка уведомлений. Уменьшение сетевого трафика — это основное, хоть и незначительное, преимущество данного типа уведомлений по сравнению с уведомлениями по запросу, которое, тем не менее, сводится на нет необходимостью создания отдельного приложения.</span><span class="sxs-lookup"><span data-stu-id="45113-p105">Generally, push notifications provide for smaller notification latency than pull notifications and are suited for tightly coupled clients to which the server has reliable access and the client is IP addressable. However, push notifications have fallen out of favor since the advent of streaming notifications in Exchange 2010. If possible, we recommend that you use streaming notifications instead of push notifications going forward. Push notifications require that you write a listener application, which is where the notifications are pushed to. This has a slight benefit over pull notifications in that it reduces wire traffic, but it adds overhead by requiring a separate application.</span></span>  <br/> |
   
## <a name="what-ews-events-can-i-subscribe-to"></a><span data-ttu-id="45113-133">На какие события служб EWS можно подписаться?</span><span class="sxs-lookup"><span data-stu-id="45113-133">What EWS events can I subscribe to?</span></span>
<span data-ttu-id="45113-134"><a name="bk_eventtypes"> </a></span><span class="sxs-lookup"><span data-stu-id="45113-134"><a name="bk_eventtypes"> </a></span></span>

<span data-ttu-id="45113-p106">Типы событий служб EWS, на которые возможна подписка, определены в статьях "[Перечисление EventType](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.eventtype%28v=exchg.80%29.aspx)" для управляемого API EWS или "Элемент [EventType](https://msdn.microsoft.com/library/04b70f9e-c226-4130-958e-0db0275cf58b%28Office.15%29.aspx)" для служб EWS. Подписка доступна для следующих событий службы EWS:</span><span class="sxs-lookup"><span data-stu-id="45113-p106">The types of EWS events that clients subscribe to are defined by the [EventType](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.eventtype%28v=exchg.80%29.aspx) enumeration for the EWS Managed API or the [EventType](https://msdn.microsoft.com/library/04b70f9e-c226-4130-958e-0db0275cf58b%28Office.15%29.aspx) element for EWS. The following EWS events are available for subscription:</span></span> 
  
- <span data-ttu-id="45113-137">NewMail — в папку "Входящие" поступило новое сообщение.</span><span class="sxs-lookup"><span data-stu-id="45113-137">NewMail — A new message arrived in the Inbox.</span></span>
    
- <span data-ttu-id="45113-p107">Deleted  сообщение безвозвратно удалено из папки "Входящие". Больше об уведомлениях для элементов можно узнать в статьях [Удаление элементов с помощью веб-служб Exchange в Exchange](deleting-items-by-using-ews-in-exchange.md) и [По запросу уведомления для событий, связанных с удаления почтового ящика веб-служб Exchange в Exchange](pull-notifications-for-ews-deletion-related-mailbox-events-in-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="45113-p107">Deleted — A message was hard deleted from the Inbox. To learn more about deleted item notifications, see [Deleting items by using EWS in Exchange](deleting-items-by-using-ews-in-exchange.md) and [Pull notifications for EWS deletion-related mailbox events in Exchange](pull-notifications-for-ews-deletion-related-mailbox-events-in-exchange.md).</span></span>
    
- <span data-ttu-id="45113-140">Modified — изменился элемент или папка.</span><span class="sxs-lookup"><span data-stu-id="45113-140">Modified — An item or folder was changed.</span></span>
    
- <span data-ttu-id="45113-141">Moved — элемент или папка перемещены.</span><span class="sxs-lookup"><span data-stu-id="45113-141">Moved — An item or folder was moved.</span></span> 
    
- <span data-ttu-id="45113-142">Copied — скопирован элемент или папка.</span><span class="sxs-lookup"><span data-stu-id="45113-142">Copied — An item or folder was copied.</span></span>
    
- <span data-ttu-id="45113-143">Created — создан элемент или папка.</span><span class="sxs-lookup"><span data-stu-id="45113-143">Created — An item or folder was created.</span></span> 
    
- <span data-ttu-id="45113-144">FreeBusyChanged — изменились сведения о доступности пользователя.</span><span class="sxs-lookup"><span data-stu-id="45113-144">FreeBusyChanged — A user's free busy information has been changed.</span></span>
    
<span data-ttu-id="45113-p108">Еще один тип событий служб EWS, событие Status, определяется элементом [EventType](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.eventtype%28v=exchg.80%29.aspx). На это событие не надо подписываться. Оно отправляется сервером для проверки состояния клиента (только для потоковых и push-уведомлений). Клиент должен ответить на это событие или он будет отключен по истечении времени ожидания.</span><span class="sxs-lookup"><span data-stu-id="45113-p108">Another EWS event type, the Status event, is defined by the [EventType](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.eventtype%28v=exchg.80%29.aspx) element, but you don't subscribe to this event. Instead, it's sent by the server to check the status of the client for streaming and push notifications only. The client needs to respond to this event or the client will time out.</span></span> 
  
<span data-ttu-id="45113-p109">Одно действие пользователя может привести к созданию нескольких уведомлений. На рисунке ниже приводится ряд распространенных сценариев и уведомлений, созданных для каждого из них. На получение уведомлений влияют настройки клиента, поэтому приведенный список может быть дополнен другими вариантами конфигураций и соответствующими уведомлениями.</span><span class="sxs-lookup"><span data-stu-id="45113-p109">A single user action often results in the creation of multiple notifications. To illustrate this, the following figure shows some common scenarios and the notifications created for each one. Client settings have an impact on the notifications received, so this is not an exhaustive list of all the configuration options and resulting notifications.</span></span>
  
<span data-ttu-id="45113-151">**Рисунок 1. Типы событий, возвращаемые подписками на уведомления**</span><span class="sxs-lookup"><span data-stu-id="45113-151">**Figure 1. Event types returned by notification subscriptions**</span></span>

![Таблица, в которой показаны уведомления, отправляемые пользователям в распространенных ситуациях, например при получении нового сообщения, создании новой папки, перемещении папок и т. д.](media/Exchange2013_Notifications_Events.png)
  
<span data-ttu-id="45113-p110">На рисунке 1 показан упрощенный процесс создания уведомления. На самом деле, для одного действия пользователя может быть создано несколько уведомлений (даже если они относятся к одному типу). Например, при переносе папки создается три события папки: одно для изменения папки, одно для бывшей родительской папки и еще одно для новой родительской папки. Так как для одной операции может быть создано несколько событий, мы рекомендуем [при создании операции синхронизации задать время ожидания в несколько секунд](mailbox-synchronization-and-ews-in-exchange.md#bk_bestpractices), чтобы синхронизация происходила только после завершения операции.</span><span class="sxs-lookup"><span data-stu-id="45113-p110">Figure 1 simplifies the notification process. In reality, multiple notifications (even multiple notifications of the same type) can be created for a single user action. For example, in the case of a folder move operation, three folder events are created: one for the folder being modified, one for the old parent folder, and one for the new parent folder. Because numerous events can be fired for a single operation, we recommend that you [build a wait time of a few seconds into your synchronization operations](mailbox-synchronization-and-ews-in-exchange.md#bk_bestpractices), so that you only synchronize when the action is complete, instead of partway through the operation.</span></span>
  
<span data-ttu-id="45113-p111">Кроме того, следует принимать во внимание, что параметры конфигурации, задаваемые конкретным пользователем, также влияют на создание уведомлений. Например, сведения о доступности некоторых пользователей обновляются автоматически, поэтому событие FreeBusyChanged создается в момент получения приглашения на собрание, которое пользователь часто еще не успел прочесть. Если же пользователи, не настраивали обновление сведений о доступности, событие FreeBusyChanged создается, только когда приглашение на собрание будет принято. Эти параметры могут оказывать значительное влияние на уведомления, создаваемые сервером.</span><span class="sxs-lookup"><span data-stu-id="45113-p111">It's also important to realize that the configuration settings that each user chooses will affect which notifications are created. For example, some users' free busy data is updated automatically and the FreeBusyChanged event is created when a new meeting request is received, even before they've read the item. For other users, free busy data isn't updated and the FreeBusyChanged event isn't created until after the meeting has been accepted. These settings can have a considerable impact on the notifications created by the server.</span></span>
  
## <a name="how-do-ews-notifications-work"></a><span data-ttu-id="45113-161">Принципы работы уведомлений служб EWS</span><span class="sxs-lookup"><span data-stu-id="45113-161">How do EWS notifications work?</span></span>
<span data-ttu-id="45113-162"><a name="bk_howwork"> </a></span><span class="sxs-lookup"><span data-stu-id="45113-162"><a name="bk_howwork"> </a></span></span>

<span data-ttu-id="45113-p112">Уведомления служб EWS обрабатываются на основании подписки. Обычно для одного почтового ящика создается одна подписка, которая позволяет подписаться на все папки или на некоторые из них. Решите на какие уведомления подписываться (потоковые уведомления, уведомления по запросу или push-уведомления), сведения о каких событиях получать (NewMail, Created, Deleted, Modified и т. д.), а затем создайте подписку. После этого сервер почтового ящика будет асинхронно отправлять клиенту события службы EWS. (Для справки: события синхронны в Exchange 2007, а в Exchange 2010 они хранятся на сервере клиентского доступа, но это не относится к более поздним версиям.)</span><span class="sxs-lookup"><span data-stu-id="45113-p112">EWS notifications are handled on a subscription basis. Typically there's one subscription per mailbox, and within the mailbox subscription you can subscribe to some or all folders. You decide what kind of notification to subscribe to (streaming, pull, or push) and what kind of events you'd like to receive (NewMail, Created, Deleted, Modified, etc.), and then you create a subscription. The EWS events are then sent asynchronously from the mailbox server to the client. (History lesson: events are synchronous in Exchange 2007 - and events are stored on the Client Access server in Exchange 2010, but no more!).</span></span>
  
<span data-ttu-id="45113-p113">Способы отправки уведомлений клиенту отличаются в зависимости от выбранного типа подписки. В этом разделе содержатся дополнительные сведения о принципах работы каждого из них.</span><span class="sxs-lookup"><span data-stu-id="45113-p113">Depending on the type of subscription you have, the ways in which the notifications are sent to the client vary. This section describes how each type of subscription works in more detail.</span></span>
  
### <a name="ews-streaming-notifications"></a><span data-ttu-id="45113-170">Потоковые уведомления служб EWS</span><span class="sxs-lookup"><span data-stu-id="45113-170">EWS streaming notifications</span></span>
<span data-ttu-id="45113-171"><a name="bk_streamnotif"> </a></span><span class="sxs-lookup"><span data-stu-id="45113-171"><a name="bk_streamnotif"> </a></span></span>

<span data-ttu-id="45113-p114">Потоковые уведомления используют ожидающий запрос GET для сервера, чтобы соединение для подписки с потоковой передачей оставалось открытым. Таким образом, выполняется немедленная потоковая передача клиенту всех событий, происходящих, пока соединение активно. Во время одного подключения может быть отправлено несколько уведомлений. Соединение остается открытым в течение определенного времени, но не более 30 минут. После чего клиент снова отправляет ожидающий запрос GET. На рисунке 2 показан принцип работы подписок с потоковой передачей и потоковых уведомлений.</span><span class="sxs-lookup"><span data-stu-id="45113-p114">Streaming notifications rely on a hanging get request on the server to keep a streaming subscription connection open, so that any events that occur while the connection is active are streamed to the client immediately. Multiple notifications can be sent over the course of a single connection, and the connection stays open until the interval expires, or for a maximum of 30 minutes. After the connection expires, the client sends the hanging get request again. Figure 2 shows how streaming subscriptions and streaming notifications work.</span></span>
  
<span data-ttu-id="45113-176">**Рисунок 2. Обзор потоковых уведомлений**</span><span class="sxs-lookup"><span data-stu-id="45113-176">**Figure 2. Streaming notification overview**</span></span>

![Иллюстрация, показывающая принцип работы потоковых уведомлений. Чтобы настроить потоковые уведомления, сделайте следующее. 1. Оформите подписку. 2. Откройте соединение. 3. Дождитесь событий 4. Получите события, повторяйте шаги 3 и 4. 5. Закройте или оставьте соединение. 6. Отмените подписку или дождитесь, когда истечет срок ее действия.](media/Exchange2013_Notifications_StreamSub.png)
  
<span data-ttu-id="45113-185">Дополнительные сведения по созданию потоковых уведомлений см. в статье [Потоковая передача уведомлений о событиях почтовых ящиков с помощью EWS в Exchange](how-to-stream-notifications-about-mailbox-events-by-using-ews-in-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="45113-185">For information about creating streaming notifications, see [Stream notifications about mailbox events by using EWS in Exchange](how-to-stream-notifications-about-mailbox-events-by-using-ews-in-exchange.md).</span></span>
  
### <a name="ews-pull-notifications"></a><span data-ttu-id="45113-186">Уведомления по запросу служб EWS</span><span class="sxs-lookup"><span data-stu-id="45113-186">EWS pull notifications</span></span>
<span data-ttu-id="45113-187"><a name="bk_pullnotif"> </a></span><span class="sxs-lookup"><span data-stu-id="45113-187"><a name="bk_pullnotif"> </a></span></span>

<span data-ttu-id="45113-p116">Для получения уведомлений по запросу клиент запрашивает их через определенный, регулируемый им интервал. В результате могут приходить ответы GetEvents без уведомлений. На рисунке 3 показан принцип работы подписок и уведомлений по запросу.</span><span class="sxs-lookup"><span data-stu-id="45113-p116">Pull notifications rely on the client asking for the notifications on an interval that the client manages. This can result in GetEvents responses with no notifications. Figure 3 shows how pull subscriptions and pull notifications work.</span></span>
  
<span data-ttu-id="45113-191">**Рисунок 3. Обзор уведомлений по запросу**</span><span class="sxs-lookup"><span data-stu-id="45113-191">**Figure 3. Pull notification overview**</span></span>

![Иллюстрация, показывающая принцип работы pull-уведомлений. Чтобы настроить pull-уведомления, сделайте следующее. 1. Оформите подписку. 2. Отправьте события GetEvent. 3. Получив ответ, повторяйте пункты 2 и 3. 4. Закройте и оставьте соединение. 5. Отмените подписку или дождитесь, когда истечет срок ее действия.](media/Exchange2013_Notifications_PullSub.png)
  
<span data-ttu-id="45113-199">Дополнительные сведения по созданию уведомлений по запросу см. в статье [Уведомления по запросу о событиях почтовых ящиков с помощью веб-служб Exchange в Exchange](how-to-pull-notifications-about-mailbox-events-by-using-ews-in-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="45113-199">For information about creating pull notifications, see [Pull notifications about mailbox events by using EWS in Exchange](how-to-pull-notifications-about-mailbox-events-by-using-ews-in-exchange.md).</span></span>
  
### <a name="ews-push-notifications"></a><span data-ttu-id="45113-200">Push-уведомления служб EWS</span><span class="sxs-lookup"><span data-stu-id="45113-200">EWS push notifications</span></span>
<span data-ttu-id="45113-201"><a name="bk_pushnotif"> </a></span><span class="sxs-lookup"><span data-stu-id="45113-201"><a name="bk_pushnotif"> </a></span></span>

<span data-ttu-id="45113-p118">Сервер принудительно отправляет push-уведомления обратно клиенту, поэтому трафик используется только при передаче уведомления. На рисунке 4 показан принцип работы принудительных подписок и push-уведомлений.</span><span class="sxs-lookup"><span data-stu-id="45113-p118">Push notifications rely on the server pushing notifications back to the client. There's only traffic if there's a notification. Figure 4 shows how push subscriptions and push notifications work.</span></span>
  
<span data-ttu-id="45113-205">**Рисунок 4. Обзор push-уведомлений**</span><span class="sxs-lookup"><span data-stu-id="45113-205">**Figure 4. Push notification overview**</span></span>

![Иллюстрация, показывающая принцип работы push-уведомлений. Чтобы настроить push-уведомления, сделайте следующее. 1. Создайте слушателя, 2. Оформите подписку. 3. Дождитесь событий. 4. Получите события. 5. Отправьте ответ "ОК", повторите шаги 3, 4 и 5. 6. Отмените подписку или дождитесь, когда истечет срок ее действия.](media/Exchange2013_Notifications_PushSub.png)

<span data-ttu-id="45113-214">Если вы используете [push-уведомления в Exchange 2010](https://msdn.microsoft.com/library/db1f8523-fa44-483f-bdb6-ab5939b52eee%28Office.15%29.aspx), рекомендуем перейти к [использованию потоковых уведомлений](https://code.msdn.microsoft.com/exchange/Exchange-2013-Set-push-82738cc5) в приложении, в этом случае вам не понадобится отдельное приложение для получения событий.</span><span class="sxs-lookup"><span data-stu-id="45113-214">If you are using [push notifications with Exchange 2010](https://msdn.microsoft.com/library/db1f8523-fa44-483f-bdb6-ab5939b52eee%28Office.15%29.aspx), consider upgrading your application to [use streaming notifications](https://code.msdn.microsoft.com/exchange/Exchange-2013-Set-push-82738cc5), so that you don't need a separate application to receive the events.</span></span>

  
## <a name="how-do-i-subscribe-to-notifications"></a><span data-ttu-id="45113-215">Как подписаться на уведомления?</span><span class="sxs-lookup"><span data-stu-id="45113-215">How do I subscribe to notifications?</span></span>
<span data-ttu-id="45113-216"><a name="bk_notifoperations"> </a></span><span class="sxs-lookup"><span data-stu-id="45113-216"><a name="bk_notifoperations"> </a></span></span>

<span data-ttu-id="45113-217">Существует несколько вариантов подписки на уведомления в зависимости от типа подписки, который нужно создать.</span><span class="sxs-lookup"><span data-stu-id="45113-217">Depending on the type of subscription you'd like to create, you have a number of options to choose from for subscribing to notifications.</span></span>
  
<span data-ttu-id="45113-218">**Таблица 2. Методы подписки на уведомления и необходимые операции**</span><span class="sxs-lookup"><span data-stu-id="45113-218">**Table 2. Operations and methods for subscribing to notifications**</span></span>

|<span data-ttu-id="45113-219">**Тип подписки**</span><span class="sxs-lookup"><span data-stu-id="45113-219">**Subscription type**</span></span>|<span data-ttu-id="45113-220">**Операция служб EWS**</span><span class="sxs-lookup"><span data-stu-id="45113-220">**EWS operation**</span></span>|<span data-ttu-id="45113-221">**Методы управляемого API EWS**</span><span class="sxs-lookup"><span data-stu-id="45113-221">**EWS Managed API methods**</span></span>|<span data-ttu-id="45113-222">**Действие**</span><span class="sxs-lookup"><span data-stu-id="45113-222">**What it does**</span></span>|
|:-----|:-----|:-----|:-----|
|<span data-ttu-id="45113-223">Подписка с потоковой передачей</span><span class="sxs-lookup"><span data-stu-id="45113-223">Streaming</span></span>  <br/> |[<span data-ttu-id="45113-224">Операции подписки</span><span class="sxs-lookup"><span data-stu-id="45113-224">Subscribe operation</span></span>](https://msdn.microsoft.com/library/f17c3d08-c79e-41f1-ba31-6e41e7aafd87%28Office.15%29.aspx) <br/> |<span data-ttu-id="45113-225">Метод [ExchangeService.BeginSubscribeToStreamingNotifications](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.exchangeservice.beginsubscribetostreamingnotifications%28v=exchg.80%29.aspx)</span><span class="sxs-lookup"><span data-stu-id="45113-225">[ExchangeService.BeginSubscribeToStreamingNotifications method](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.exchangeservice.beginsubscribetostreamingnotifications%28v=exchg.80%29.aspx)</span></span> <br/> <span data-ttu-id="45113-226">Метод [ExchangeService.BeginSubscribeToStreamingNotificationsOnAllFolders](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.exchangeservice.beginsubscribetostreamingnotificationsonallfolders%28v=exchg.80%29.aspx)</span><span class="sxs-lookup"><span data-stu-id="45113-226">[ExchangeService.BeginSubscribeToStreamingNotificationsOnAllFolders method](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.exchangeservice.beginsubscribetostreamingnotificationsonallfolders%28v=exchg.80%29.aspx)</span></span> <br/> <span data-ttu-id="45113-227">Метод [ExchangeService.SubscribeToStreamingNotificationsOnAllFolders](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.exchangeservice.subscribetostreamingnotifications%28v=exchg.80%29.aspx)</span><span class="sxs-lookup"><span data-stu-id="45113-227">[ExchangeService.SubscribeToStreamingNotificationsOnAllFolders method](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.exchangeservice.subscribetostreamingnotifications%28v=exchg.80%29.aspx)</span></span> <br/> |<span data-ttu-id="45113-228">Создает запрос подписки на потоковые уведомления.</span><span class="sxs-lookup"><span data-stu-id="45113-228">Creates a request to subscribe to streaming notifications.</span></span>  <br/> |
|<span data-ttu-id="45113-229">Подписка по запросу</span><span class="sxs-lookup"><span data-stu-id="45113-229">Pull</span></span>  <br/> |[<span data-ttu-id="45113-230">Операции подписки</span><span class="sxs-lookup"><span data-stu-id="45113-230">Subscribe operation</span></span>](https://msdn.microsoft.com/library/f17c3d08-c79e-41f1-ba31-6e41e7aafd87%28Office.15%29.aspx) <br/> |<span data-ttu-id="45113-231">Метод [ExchangeService.BeginSubscribeToPullNotifications](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.exchangeservice.beginsubscribetopullnotifications%28v=exchg.80%29.aspx)</span><span class="sxs-lookup"><span data-stu-id="45113-231">[ExchangeService.BeginSubscribeToPullNotifications method](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.exchangeservice.beginsubscribetopullnotifications%28v=exchg.80%29.aspx)</span></span> <br/> <span data-ttu-id="45113-232">Метод [ExchangeService.BeginSubscribeToPullNotificationsOnAllFolders](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.exchangeservice.beginsubscribetopullnotificationsonallfolders%28v=exchg.80%29.aspx)</span><span class="sxs-lookup"><span data-stu-id="45113-232">[ExchangeService.BeginSubscribeToPullNotificationsOnAllFolders method](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.exchangeservice.beginsubscribetopullnotificationsonallfolders%28v=exchg.80%29.aspx)</span></span> <br/> <span data-ttu-id="45113-233">Метод [ExchangeService.SubscribeToPullNotifications](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.exchangeservice.subscribetopullnotifications%28v=exchg.80%29.aspx)</span><span class="sxs-lookup"><span data-stu-id="45113-233">[ExchangeService.SubscribeToPullNotifications method](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.exchangeservice.subscribetopullnotifications%28v=exchg.80%29.aspx)</span></span> <br/> <span data-ttu-id="45113-234">Метод [ExchangeService.SubscribeToPullNotificationsOnAllFolders](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.exchangeservice.subscribetopullnotificationsonallfolders%28v=exchg.80%29.aspx)</span><span class="sxs-lookup"><span data-stu-id="45113-234">[ExchangeService.SubscribeToPullNotificationsOnAllFolders method](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.exchangeservice.subscribetopullnotificationsonallfolders%28v=exchg.80%29.aspx)</span></span> <br/> |<span data-ttu-id="45113-235">Создает запрос подписки на уведомления по запросу.</span><span class="sxs-lookup"><span data-stu-id="45113-235">Creates a request to subscribe to pull notifications.</span></span>  <br/> |
|<span data-ttu-id="45113-236">Push-уведомление</span><span class="sxs-lookup"><span data-stu-id="45113-236">Push</span></span>  <br/> |[<span data-ttu-id="45113-237">Операции подписки</span><span class="sxs-lookup"><span data-stu-id="45113-237">Subscribe operation</span></span>](https://msdn.microsoft.com/library/f17c3d08-c79e-41f1-ba31-6e41e7aafd87%28Office.15%29.aspx) <br/> |<span data-ttu-id="45113-238">Перегруженный метод [ExchangeService.BeginSubscribeToPushNotifications](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.exchangeservice.beginsubscribetopushnotifications%28v=exchg.80%29.aspx)</span><span class="sxs-lookup"><span data-stu-id="45113-238">[ExchangeService.BeginSubscribeToPushNotifications overloaded method](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.exchangeservice.beginsubscribetopushnotifications%28v=exchg.80%29.aspx)</span></span> <br/> <span data-ttu-id="45113-239">Перегруженный метод [ExchangeService.BeginSubscribeToPushNotificationsOnAllFolders](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.exchangeservice.beginsubscribetopushnotificationsonallfolders%28v=exchg.80%29.aspx)</span><span class="sxs-lookup"><span data-stu-id="45113-239">[ExchangeService.BeginSubscribeToPushNotificationsOnAllFolders overload method](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.exchangeservice.beginsubscribetopushnotificationsonallfolders%28v=exchg.80%29.aspx)</span></span> <br/> <span data-ttu-id="45113-240">Перегруженный метод [ExchangeService.SubscribeToPushNotifications](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.exchangeservice.subscribetopushnotifications%28v=exchg.80%29.aspx)</span><span class="sxs-lookup"><span data-stu-id="45113-240">[ExchangeService.SubscribeToPushNotifications overloaded method](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.exchangeservice.subscribetopushnotifications%28v=exchg.80%29.aspx)</span></span> <br/> <span data-ttu-id="45113-241">Перегруженный метод [ExchangeService.SubscribeToPushNotificationsOnAllFolders](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.exchangeservice.subscribetopushnotificationsonallfolders%28v=exchg.80%29.aspx)</span><span class="sxs-lookup"><span data-stu-id="45113-241">[ExchangeService.SubscribeToPushNotificationsOnAllFolders overloaded method](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.exchangeservice.subscribetopushnotificationsonallfolders%28v=exchg.80%29.aspx)</span></span> <br/> |<span data-ttu-id="45113-242">Создает запрос подписки на push-уведомления.</span><span class="sxs-lookup"><span data-stu-id="45113-242">Creates a request to subscribe to push notifications.</span></span>  <br/> |
   
## <a name="how-do-i-get-ews-events"></a><span data-ttu-id="45113-243">Как получить события служб EWS?</span><span class="sxs-lookup"><span data-stu-id="45113-243">How do I get EWS events?</span></span>
<span data-ttu-id="45113-244"><a name="bk_getevents"> </a></span><span class="sxs-lookup"><span data-stu-id="45113-244"><a name="bk_getevents"> </a></span></span>

<span data-ttu-id="45113-245">Способ отправки данных о фактических событиях зависит от типа созданной вами подписки.</span><span class="sxs-lookup"><span data-stu-id="45113-245">After the subscription is created, the way in which the actual events are sent to the client depends on the subscription type.</span></span> 
  
<span data-ttu-id="45113-246">Для потоковых уведомлений необходимо создать соединение для подписки с потоковой передачей, а затем добавить в него нужную подписку.</span><span class="sxs-lookup"><span data-stu-id="45113-246">For streaming notifications, a streaming subscription connection must be created, and then the subscription is added to the connection.</span></span> <span data-ttu-id="45113-247">Больше об этом можно узнать в статье [Потоковая передача уведомлений о событиях почтовых ящиков с помощью веб-служб Exchange в Exchange](how-to-stream-notifications-about-mailbox-events-by-using-ews-in-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="45113-247">You can read more about this process in [Stream notifications about mailbox events by using EWS in Exchange](how-to-stream-notifications-about-mailbox-events-by-using-ews-in-exchange.md).</span></span> 
  
<span data-ttu-id="45113-248">Для уведомлений по запросу объект подписки инициализируется при создании подписки, поэтому для получения событий с сервера достаточно вызвать метод **GetEvent** или соответствующую операцию.</span><span class="sxs-lookup"><span data-stu-id="45113-248">For pull notifications, the subscription object was initialized when the subscription was created, so you just have to call the **GetEvent** method or operation to retrieve the events from the server.</span></span> <span data-ttu-id="45113-249">Больше об этом можно узнать в статье [Уведомления по запросу о событиях почтовых ящиков с помощью веб-служб Exchange в Exchange](how-to-pull-notifications-about-mailbox-events-by-using-ews-in-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="45113-249">You can read more about this in [Pull notifications about mailbox events by using EWS in Exchange](how-to-pull-notifications-about-mailbox-events-by-using-ews-in-exchange.md).</span></span> 
  
<span data-ttu-id="45113-250">В таблице ниже перечислены операции и классы, необходимые для получения событий.</span><span class="sxs-lookup"><span data-stu-id="45113-250">The following table lists the operations and classes required to retrieve events.</span></span> 
  
<span data-ttu-id="45113-251">**Таблица 3. Элементы и классы для создания соединения и получения событий**</span><span class="sxs-lookup"><span data-stu-id="45113-251">**Table 3. Elements and classes for creating a connection and getting events**</span></span>

|<span data-ttu-id="45113-252">**Тип подписки**</span><span class="sxs-lookup"><span data-stu-id="45113-252">**Subscription type**</span></span>|<span data-ttu-id="45113-253">**Операция служб EWS**</span><span class="sxs-lookup"><span data-stu-id="45113-253">**EWS operation**</span></span>|<span data-ttu-id="45113-254">**Метод управляемого API EWS**</span><span class="sxs-lookup"><span data-stu-id="45113-254">**EWS Managed API method**</span></span>|<span data-ttu-id="45113-255">**Действие**</span><span class="sxs-lookup"><span data-stu-id="45113-255">**What it does**</span></span>|
|:-----|:-----|:-----|:-----|
|<span data-ttu-id="45113-256">Подписка с потоковой передачей</span><span class="sxs-lookup"><span data-stu-id="45113-256">Streaming</span></span>  <br/> |[<span data-ttu-id="45113-257">Операция GetStreamingEvents</span><span class="sxs-lookup"><span data-stu-id="45113-257">GetStreamingEvents operation</span></span>](https://msdn.microsoft.com/library/8da95423-72bc-4034-90a8-162eedcd059b%28Office.15%29.aspx) <br/> |<span data-ttu-id="45113-258">Метод [StreamingSubscriptionConnection.AddSubscription](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.streamingsubscriptionconnection.addsubscription%28v=exchg.80%29.aspx)</span><span class="sxs-lookup"><span data-stu-id="45113-258">[StreamingSubscriptionConnection.AddSubscription method](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.streamingsubscriptionconnection.addsubscription%28v=exchg.80%29.aspx)</span></span> <br/> |<span data-ttu-id="45113-259">Создает на сервере ожидающий запрос GET, ответ на который приходит при возникновении какого-либо события.</span><span class="sxs-lookup"><span data-stu-id="45113-259">Creates a hanging get request on the server, which is responded to when events occur.</span></span>  <br/> |
|<span data-ttu-id="45113-260">Подписка по запросу</span><span class="sxs-lookup"><span data-stu-id="45113-260">Pull</span></span>  <br/> |[<span data-ttu-id="45113-261">Операция GetEvents</span><span class="sxs-lookup"><span data-stu-id="45113-261">GetEvents operation</span></span>](https://msdn.microsoft.com/library/f268efe5-9a1a-41a2-b6a6-51fcde7720a1%28Office.15%29.aspx) <br/> |<span data-ttu-id="45113-262">Метод [PullSubscription.GetEvents](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.pullsubscription.getevents%28v=exchg.80%29.aspx)</span><span class="sxs-lookup"><span data-stu-id="45113-262">[PullSubscription.GetEvents method](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.pullsubscription.getevents%28v=exchg.80%29.aspx)</span></span> <br/> |<span data-ttu-id="45113-263">Получает с сервера уведомления по запросу.</span><span class="sxs-lookup"><span data-stu-id="45113-263">Gets pull notification events from the server.</span></span>  <br/> |
|<span data-ttu-id="45113-264">Принудительная подписка</span><span class="sxs-lookup"><span data-stu-id="45113-264">Push</span></span>  <br/> |<span data-ttu-id="45113-265">Не применимо.</span><span class="sxs-lookup"><span data-stu-id="45113-265">Not applicable.</span></span>  <br/> |<span data-ttu-id="45113-266">Не применимо.</span><span class="sxs-lookup"><span data-stu-id="45113-266">Not applicable.</span></span>  <br/> |<span data-ttu-id="45113-p122">Push-уведомления автоматически отправляются на прослушиватель для веб-службы (URL-адрес обратного вызова указывается в запросе на подписку). Не требуется вызывать дополнительные методы или операции.</span><span class="sxs-lookup"><span data-stu-id="45113-p122">Push notifications are automatically sent to the web service listener (the callback URL specified in the subscription request). No additional methods or operations need to be called.</span></span>  <br/> |
   
## <a name="how-do-i-unsubscribe-to-notifications"></a><span data-ttu-id="45113-269">Как отменить подписку на уведомления?</span><span class="sxs-lookup"><span data-stu-id="45113-269">How do I unsubscribe to notifications?</span></span>
<span data-ttu-id="45113-270"><a name="bk_notifunsubscribe"> </a></span><span class="sxs-lookup"><span data-stu-id="45113-270"><a name="bk_notifunsubscribe"> </a></span></span>

<span data-ttu-id="45113-271">В таблице ниже указаны способы отмены подписки на различные типы уведомлений.</span><span class="sxs-lookup"><span data-stu-id="45113-271">The following table lists the ways in which you can unsubscribe to each type of subscription.</span></span>
  
<span data-ttu-id="45113-272">**Таблица 4. Методы отмены подписки на уведомления и необходимые операции**</span><span class="sxs-lookup"><span data-stu-id="45113-272">**Table 4. Operations and methods for unsubscribing to notifications**</span></span>

|<span data-ttu-id="45113-273">**Тип подписки**</span><span class="sxs-lookup"><span data-stu-id="45113-273">**Subscription type**</span></span>|<span data-ttu-id="45113-274">**Службы EWS**</span><span class="sxs-lookup"><span data-stu-id="45113-274">**EWS**</span></span>|<span data-ttu-id="45113-275">**Управляемый API EWS**</span><span class="sxs-lookup"><span data-stu-id="45113-275">**EWS Managed API**</span></span>||
|:-----|:-----|:-----|:-----|
|<span data-ttu-id="45113-276">Подписка с потоковой передачей</span><span class="sxs-lookup"><span data-stu-id="45113-276">Streaming</span></span>  <br/> |[<span data-ttu-id="45113-277">Операция по отмене подписки</span><span class="sxs-lookup"><span data-stu-id="45113-277">Unsubscribe operation</span></span>](https://msdn.microsoft.com/library/994a9d2b-1501-4804-90f0-12bd914496ec%28Office.15%29.aspx) <br/> |<span data-ttu-id="45113-278">Метод [StreamingSubscription.BeginUnsubscribe](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.streamingsubscription.beginunsubscribe%28v=exchg.80%29.aspx)</span><span class="sxs-lookup"><span data-stu-id="45113-278">[StreamingSubscription.BeginUnsubscribe method](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.streamingsubscription.beginunsubscribe%28v=exchg.80%29.aspx)</span></span> <br/> <span data-ttu-id="45113-279">Метод [StreamingSubscription.EndUnsubscribe](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.streamingsubscription.endunsubscribe%28v=exchg.80%29.aspx)</span><span class="sxs-lookup"><span data-stu-id="45113-279">[StreamingSubscription.EndUnsubscribe method](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.streamingsubscription.endunsubscribe%28v=exchg.80%29.aspx)</span></span> <br/> <span data-ttu-id="45113-280">Метод [StreamingSubscription.Unsubscribe](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.streamingsubscription.unsubscribe%28v=exchg.80%29.aspx)</span><span class="sxs-lookup"><span data-stu-id="45113-280">[StreamingSubscription.Unsubscribe method](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.streamingsubscription.unsubscribe%28v=exchg.80%29.aspx)</span></span> <br/> ||
|<span data-ttu-id="45113-281">Подписка по запросу</span><span class="sxs-lookup"><span data-stu-id="45113-281">Pull</span></span>  <br/> |[<span data-ttu-id="45113-282">Операция по отмене подписки</span><span class="sxs-lookup"><span data-stu-id="45113-282">Unsubscribe operation</span></span>](https://msdn.microsoft.com/library/994a9d2b-1501-4804-90f0-12bd914496ec%28Office.15%29.aspx) <br/> |<span data-ttu-id="45113-283">Метод [PullSubscription.BeginUnsubscribe](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.pullsubscription.beginunsubscribe%28v=exchg.80%29.aspx)</span><span class="sxs-lookup"><span data-stu-id="45113-283">[PullSubscription.BeginUnsubscribe method](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.pullsubscription.beginunsubscribe%28v=exchg.80%29.aspx)</span></span> <br/> <span data-ttu-id="45113-284">Метод [PullSubscription.EndUnsubscribe](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.pullsubscription.endunsubscribe%28v=exchg.80%29.aspx)</span><span class="sxs-lookup"><span data-stu-id="45113-284">[PullSubscription.EndUnsubscribe method](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.pullsubscription.endunsubscribe%28v=exchg.80%29.aspx)</span></span> <br/> <span data-ttu-id="45113-285">Метод [PullSubscription.Unsubscribe](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.pullsubscription.unsubscribe%28v=exchg.80%29.aspx)</span><span class="sxs-lookup"><span data-stu-id="45113-285">[PullSubscription.Unsubscribe method](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.pullsubscription.unsubscribe%28v=exchg.80%29.aspx)</span></span> <br/> ||
|<span data-ttu-id="45113-286">Push-уведомление</span><span class="sxs-lookup"><span data-stu-id="45113-286">Push</span></span>  <br/> |<span data-ttu-id="45113-287">Верните значение **Unsubscribe** в элементе [StatusFrequency](https://msdn.microsoft.com/library/917474e2-a426-4166-b825-53783a41dad4%28Office.15%29.aspx) элемента [SendNotificationResponseMessage](https://msdn.microsoft.com/library/2c6d681b-67ac-4331-bc6b-a2e709b638e3%28Office.15%29.aspx)</span><span class="sxs-lookup"><span data-stu-id="45113-287">Return **Unsubscribe** in the [StatusFrequency](https://msdn.microsoft.com/library/917474e2-a426-4166-b825-53783a41dad4%28Office.15%29.aspx) element of the [SendNotificationResponseMessage](https://msdn.microsoft.com/library/2c6d681b-67ac-4331-bc6b-a2e709b638e3%28Office.15%29.aspx)</span></span> <br/> |<span data-ttu-id="45113-p123">Не применимо. Подождите, пока истечет время ожидания для подписки.</span><span class="sxs-lookup"><span data-stu-id="45113-p123">Not applicable. Let the subscription time out instead.</span></span>  <br/> ||
   
<span data-ttu-id="45113-290">Вы также можете дождаться окончания времени ожидания для любой из подписок.</span><span class="sxs-lookup"><span data-stu-id="45113-290">Alternatively, you can let each of the subscriptions time out.</span></span> 
  
<span data-ttu-id="45113-291">**Таблица 5. Окончание времени ожидания для подписок**</span><span class="sxs-lookup"><span data-stu-id="45113-291">**Table 5. Subscription time-outs**</span></span>

|<span data-ttu-id="45113-292">**Тип подписки**</span><span class="sxs-lookup"><span data-stu-id="45113-292">**Subscription type**</span></span>|<span data-ttu-id="45113-293">**Значение времени ожидания в службах EWS**</span><span class="sxs-lookup"><span data-stu-id="45113-293">**Timeout value in EWS**</span></span>|<span data-ttu-id="45113-294">**Значение времени ожидания в управляемом API EWS**</span><span class="sxs-lookup"><span data-stu-id="45113-294">**Timeout value in the EWS Managed API**</span></span>|<span data-ttu-id="45113-295">**Обработка времени ожидания**</span><span class="sxs-lookup"><span data-stu-id="45113-295">**Timeout handling**</span></span>|
|:-----|:-----|:-----|:-----|
|<span data-ttu-id="45113-296">Подписка с потоковой передачей</span><span class="sxs-lookup"><span data-stu-id="45113-296">Streaming</span></span>  <br/> |<span data-ttu-id="45113-297">Элемент [ConnectionTimeout](https://msdn.microsoft.com/library/14da68a0-bcca-4281-a774-47644baa4ee9%28Office.15%29.aspx)</span><span class="sxs-lookup"><span data-stu-id="45113-297">[ConnectionTimeout](https://msdn.microsoft.com/library/14da68a0-bcca-4281-a774-47644baa4ee9%28Office.15%29.aspx) element</span></span>  <br/> | <span data-ttu-id="45113-298">Параметр  *lifetime*  конструктора [StreamingSubscriptionConnection](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.streamingsubscriptionconnection.streamingsubscriptionconnection%28v=exchg.80%29.aspx)</span><span class="sxs-lookup"><span data-stu-id="45113-298">*lifetime*  parameter of the [StreamingSubscriptionConnection](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.streamingsubscriptionconnection.streamingsubscriptionconnection%28v=exchg.80%29.aspx) constructor</span></span>  <br/> |<span data-ttu-id="45113-p124">Для управляемого API EWS по истечении заданного значения времени ожидания запускается событие [OnDisconnect](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.streamingsubscriptionconnection.ondisconnect%28v=exchg.80%29.aspx). Если не вызван метод [StreamingSubscriptionConnection.Open](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.streamingsubscriptionconnection.open%28v=exchg.80%29.aspx) соединение прерывается.  </span><span class="sxs-lookup"><span data-stu-id="45113-p124">For the EWS Managed API, after the timeout value elapses, the [OnDisconnect](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.streamingsubscriptionconnection.ondisconnect%28v=exchg.80%29.aspx) event is raised. If the [StreamingSubscriptionConnection.Open](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.streamingsubscriptionconnection.open%28v=exchg.80%29.aspx) method is not called, the connection is closed.  </span></span><br/> <span data-ttu-id="45113-301">Для служб EWS по истечении заданного значения времени ожидания сообщение [GetUserConfigurationResponse](https://msdn.microsoft.com/library/5e418c91-c836-4de0-a80d-f0dad0c684d7%28Office.15%29.aspx) возвращает для элемента [ConnectionStatus](https://msdn.microsoft.com/library/4300f9d6-8bf9-48c2-9f07-d80197864e17%28Office.15%29.aspx) значение "Закрыто".</span><span class="sxs-lookup"><span data-stu-id="45113-301">For EWS, after the timeout value elapses, the [GetUserConfigurationResponse](https://msdn.microsoft.com/library/5e418c91-c836-4de0-a80d-f0dad0c684d7%28Office.15%29.aspx) message returns a [ConnectionStatus](https://msdn.microsoft.com/library/4300f9d6-8bf9-48c2-9f07-d80197864e17%28Office.15%29.aspx) value of Closed.</span></span>  <br/> |
|<span data-ttu-id="45113-302">Подписка по запросу</span><span class="sxs-lookup"><span data-stu-id="45113-302">Pull</span></span>  <br/> |<span data-ttu-id="45113-303">Элемент [Timeout](https://msdn.microsoft.com/library/c2e1ca5a-6667-4f6f-aac4-89de33bddc54%28Office.15%29.aspx)</span><span class="sxs-lookup"><span data-stu-id="45113-303">[Timeout](https://msdn.microsoft.com/library/c2e1ca5a-6667-4f6f-aac4-89de33bddc54%28Office.15%29.aspx) element</span></span>  <br/> | <span data-ttu-id="45113-304">Параметр  *timeout*  метода [SubscribeToPullNotification](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.exchangeservice.subscribetopullnotifications%28v=exchg.80%29.aspx)</span><span class="sxs-lookup"><span data-stu-id="45113-304">*timeout*  parameter of the [SubscribeToPullNotification](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.exchangeservice.subscribetopullnotifications%28v=exchg.80%29.aspx) method</span></span>  <br/> |<span data-ttu-id="45113-305">По истечении заданного значения времени ожидания сервер удаляет подписку.</span><span class="sxs-lookup"><span data-stu-id="45113-305">After the timeout value elapses, the server deletes the subscription.</span></span>  <br/> |
|<span data-ttu-id="45113-306">Push-уведомление</span><span class="sxs-lookup"><span data-stu-id="45113-306">Push</span></span>  <br/> |<span data-ttu-id="45113-307">Элемент [StatusFrequency](https://msdn.microsoft.com/library/917474e2-a426-4166-b825-53783a41dad4%28Office.15%29.aspx)</span><span class="sxs-lookup"><span data-stu-id="45113-307">[StatusFrequency](https://msdn.microsoft.com/library/917474e2-a426-4166-b825-53783a41dad4%28Office.15%29.aspx) element</span></span>  <br/> | <span data-ttu-id="45113-308">Параметр  *frequency*  метода [SubscribeToPushNotification](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.exchangeservice.subscribetopushnotifications%28v=exchg.80%29.aspx)</span><span class="sxs-lookup"><span data-stu-id="45113-308">*frequency*  parameter of the [SubscribeToPushNotification](https://msdn.microsoft.com/library/microsoft.exchange.webservices.data.exchangeservice.subscribetopushnotifications%28v=exchg.80%29.aspx) method</span></span>  <br/> |<span data-ttu-id="45113-p125">Если сервер не получает ответ на push-уведомление или проверку состояния связи, он несколько раз пытается отправить уведомление, а затем прекращает отправку. Дополнительные сведения см. в статье [StatusFrequency](https://msdn.microsoft.com/library/917474e2-a426-4166-b825-53783a41dad4%28Office.15%29.aspx).  </span><span class="sxs-lookup"><span data-stu-id="45113-p125">If the server does not receive a response to a push notification or status ping, it retries sending the notification several times before it stops sending the notifications. For more information, see [StatusFrequency](https://msdn.microsoft.com/library/917474e2-a426-4166-b825-53783a41dad4%28Office.15%29.aspx).  </span></span><br/> |
   
## <a name="can-i-limit-subscriptions"></a><span data-ttu-id="45113-311">Можно ли ограничить подписки?</span><span class="sxs-lookup"><span data-stu-id="45113-311">Can I limit subscriptions?</span></span>
<span data-ttu-id="45113-312"><a name="bk_limitsubs"> </a></span><span class="sxs-lookup"><span data-stu-id="45113-312"><a name="bk_limitsubs"> </a></span></span>

<span data-ttu-id="45113-p126">В локальном развертывании можно ограничить количество подписок для каждого пользователя с помощью параметра регулирования количества запросов [EwsMaxSubscriptions](ews-throttling-in-exchange.md) политики регулирования. Эту политику можно применить как ко всем пользователям, так и выборочно к некоторым из них. Политику регулирования **EwsMaxSubscriptions** невозможно настроить для Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="45113-p126">In an on-premises deployment, you can limit the number of subscriptions per user with the [EwsMaxSubscriptions throttling parameter](ews-throttling-in-exchange.md) of the throttling policy. That policy can be applied to all users or just specific users. The **EwsMaxSubscriptions** throttling policy is not configurable for Exchange Online.</span></span> 
  
## <a name="in-this-section"></a><span data-ttu-id="45113-316">В этой статье</span><span class="sxs-lookup"><span data-stu-id="45113-316">In this section</span></span>
<span data-ttu-id="45113-317"><a name="bk_limitsubs"> </a></span><span class="sxs-lookup"><span data-stu-id="45113-317"><a name="bk_limitsubs"> </a></span></span>

- [<span data-ttu-id="45113-318">Потоковая передача уведомлений о событиях почтовых ящиков с помощью веб-служб Exchange в Exchange</span><span class="sxs-lookup"><span data-stu-id="45113-318">Stream notifications about mailbox events by using EWS in Exchange</span></span>](how-to-stream-notifications-about-mailbox-events-by-using-ews-in-exchange.md)
    
- [<span data-ttu-id="45113-319">Уведомления по запросу о событиях почтовых ящиков с помощью веб-служб Exchange в Exchange</span><span class="sxs-lookup"><span data-stu-id="45113-319">Pull notifications about mailbox events by using EWS in Exchange</span></span>](how-to-pull-notifications-about-mailbox-events-by-using-ews-in-exchange.md)
    
- [<span data-ttu-id="45113-320">Поддержание сходства между группой подписок и сервером почтовых ящиков в Exchange</span><span class="sxs-lookup"><span data-stu-id="45113-320">Maintain affinity between a group of subscriptions and the Mailbox server in Exchange</span></span>](how-to-maintain-affinity-between-group-of-subscriptions-and-mailbox-server.md)
    
- [<span data-ttu-id="45113-321">Обработка ошибок, связанных с уведомлениями, в EWS в Exchange</span><span class="sxs-lookup"><span data-stu-id="45113-321">Handling notification-related errors in EWS in Exchange</span></span>](handling-notification-related-errors-in-ews-in-exchange.md)
    
## <a name="see-also"></a><span data-ttu-id="45113-322">См. также</span><span class="sxs-lookup"><span data-stu-id="45113-322">See also</span></span>

- [<span data-ttu-id="45113-323">Разработка клиентов веб-служб для Exchange</span><span class="sxs-lookup"><span data-stu-id="45113-323">Develop web service clients for Exchange</span></span>](develop-web-service-clients-for-exchange.md)
- [<span data-ttu-id="45113-324">Справочник по веб-службам для Exchange</span><span class="sxs-lookup"><span data-stu-id="45113-324">Web services reference for Exchange</span></span>](../web-service-reference/web-services-reference-for-exchange.md)
- [<span data-ttu-id="45113-325">Начать работу с использованием веб-служб Exchange</span><span class="sxs-lookup"><span data-stu-id="45113-325">Start using web services in Exchange</span></span>](start-using-web-services-in-exchange.md)
- [<span data-ttu-id="45113-326">Синхронизация почтового ящика и веб-службах Exchange</span><span class="sxs-lookup"><span data-stu-id="45113-326">Mailbox synchronization and EWS in Exchange</span></span>](mailbox-synchronization-and-ews-in-exchange.md)
- [<span data-ttu-id="45113-327">Пример приложения для push-уведомлений</span><span class="sxs-lookup"><span data-stu-id="45113-327">Push Notification Sample Application</span></span>](https://msdn.microsoft.com/library/db1f8523-fa44-483f-bdb6-ab5939b52eee%28Office.15%29.aspx)
    

