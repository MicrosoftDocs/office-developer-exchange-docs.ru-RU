---
title: Функция функция cchksgfiles. Еррчеккдбпажес
manager: sethgros
ms.date: 11/16/2014
ms.audience: Developer
ms.topic: overview
ms.prod: office-online-server
localization_priority: Normal
api_name:
- ErrCheckDbPages
api_type:
- dllExport
ms.assetid: 5e981a7c-28cd-470c-b7eb-606463e9dd05
description: 'Дата последнего изменения: 22 февраля 2013 г.'
ms.openlocfilehash: 78d2dbee6253096d597b4ec2de3878f40ee1b6d7
ms.sourcegitcommit: 88ec988f2bb67c1866d06b361615f3674a24e795
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/03/2020
ms.locfileid: "44526727"
---
# <a name="cchksgfileserrcheckdbpages-function"></a>Функция функция cchksgfiles. Еррчеккдбпажес

**Применимо к:** Exchange Server 2003 | Exchange Server 2007 | Exchange Server 2010 | Exchange Server 2013
  
Проверка диапазона страниц в указанной базе данных. 
  
```cs
Vitual ERRErrCheckDbPages  
(
    Const ULONGiDb,
    Const VOID  * const pvPageBuffer,
    Const ULONGcbPageBuffer,
    PAGE_INFOrgPageInfo[],
    Const ULONGcPageInfo,
    Const ULONGulFlags = NO_FLAGS
);

```

## <a name="parameters"></a>Параметры

### <a name="idb"></a>Требуем
  
Входной параметр. Индекс в массиве баз данных, заданном параметром **ргвсздб []** , в функцию **ерринит** . Будет проверена база данных, индексируемая этим параметром. 
    
### <a name="pvpagebuffer"></a>пвпажебуффер 
  
Входной параметр. Указатель на буфер, содержащий одну или несколько страниц базы данных, которые необходимо проверить. Размер буфера должен быть кратен размеру страницы базы данных, возвращаемому функцией **еррчеккдбхеадерс** в параметре **пкбдбпажесизе** . Вызывающее приложение должно заполнить буфер содержимым страницы базы данных перед вызовом **еррчеккдбпажес**.
    
### <a name="cbpagebuffer"></a>кбпажебуффер
  
Входной параметр. Размер параметра **пвпажебуффер** в байтах. Это значение должно быть кратно размеру страницы базы данных, которое возвращается функцией **еррчеккдбхеадерс** в параметре **пкбдбпажесизе** . 
    
### <a name="rgpageinfo"></a>Ргпажеинфо [] 
  
Входной/выходной параметр. Массив структур ** \_ сведений о странице** , которые **еррчеккдбпажес** заполняют детальные результаты каждой проверенной страницы базы данных. Массив должен иметь по одному элементу для каждой страницы базы данных, переданной в параметре **пвпажебуффер** , а в поле **улпгно** в каждой структуре ** \_ сведений о странице** должен быть задан логический номер страницы, соответствующий странице базы данных. Дополнительные сведения см. в разделе "Примечания" Далее в этом разделе. 
    
### <a name="cpageinfo"></a>кпажеинфо
  
Входной параметр. Число записей в массиве **ргпажеинфо []** . Это значение должно быть равно числу страниц базы данных, переданных в параметре **пвпажебуффер** . 
    
### <a name="ulflags"></a>ulFlags 
  
Необязательный входной параметр. Это значение зарезервировано для использования в будущем. Значение, передаваемое в этом параметре, должно быть равно 0 (нулю).
    
## <a name="return-value"></a>Возвращаемое значение

Код ошибки из перечисления [Err](cchksgfiles-err-enumeration.md) . 
  
## <a name="remarks"></a>Примечания

Обратите внимание, что необходимо указать базу данных в массиве баз данных, передаваемых функции **ерринит** . Кроме того, **еррчеккдбхеадерс** должен вызываться до **еррчеккдбпажес**.
  
Вызывающее приложение должно выделить буфер памяти, достаточно большой для хранения страниц базы данных, которые необходимо проверить. Приложение несет ответственность за заполнение буфера содержимым одной или нескольких таких страниц базы данных. 
  
Вызывающее приложение должно вызвать **еррчеккдбхеадерс** перед вызовом **еррчеккдбпажес**. Эту функцию можно вызывать столько раз, сколько необходимо, чтобы охватить все страницы всех файлов базы данных, которые необходимо проверить.
  
В параметре **ргпажеинфо []** каждый возвращаемый элемент содержит сведения о странице базы данных в структуре ** \_ сведений о странице** . Если функция **еррчеккдбпажес** возвращает ошибку, приложение должно проверять каждую структуру ** \_ сведений о странице** , чтобы определить, на какой странице была обнаружена ошибка. Например, сравнение значений **чекксумактуал** и **чекксумекспектед** будет указывать на то, была ли обнаружена ошибка контрольной суммы на этой странице базы данных. 
  
Если **еррчеккдбпажес** обнаруживает ошибки в содержимом базы данных, он создает запись в журнале событий ошибок Windows. 
  
Объект **функция cchksgfiles** определяет, действительно ли проверены все базы данных, зарегистрированные с помощью функции **ерринит** . В частности, **функция cchksgfiles** использует функцию **еррчеккдбпажес** , чтобы определить, действительно ли проверено то же количество страниц базы данных, что и в **еррчеккдбхеадерс** . Если правильное количество страниц в каждой базе данных не прошло проверку, функция **ерртерм** возвращает ошибку. 
  
Если вы используете ЧКСГФИЛЕС в многопоточном приложении, вы можете вызвать функцию **еррчеккдбпажес** в многопоточной части приложения. Обратите внимание, что **еррчеккдбпажес** обычно вызывается несколько раз для каждой проверенной базы данных. 
  
## <a name="requirements"></a>Requirements

Exchange 2013 включает только 64-разрядную версию API ЧКСГФИЛЕС.
  
Учетная запись, под которой выполняется приложение, должна иметь разрешения на чтение для базы данных и файлов журнала, которые необходимо проверить.
  

