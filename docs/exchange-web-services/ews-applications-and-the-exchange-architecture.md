---
title: Приложения веб-служб Exchange и архитектура Exchange
manager: sethgros
ms.date: 09/17/2015
ms.audience: Developer
localization_priority: Normal
ms.assetid: c10f308a-65bb-4a0b-8fdd-b4a61503f0fd
description: Узнайте о принципах работы веб-служб Exchange в архитектуре Exchange и узнайте, какие протоколы, зависит от веб-служб Exchange.
ms.openlocfilehash: 1fbc1e68edbca829555fbbf1b9f0bc4723da9524
ms.sourcegitcommit: 34041125dc8c5f993b21cebfc4f8b72f0fd2cb6f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/11/2018
ms.locfileid: "19760959"
---
# <a name="ews-applications-and-the-exchange-architecture"></a>Приложения веб-служб Exchange и архитектура Exchange

Узнайте о принципах работы веб-служб Exchange в архитектуре Exchange и узнайте, какие протоколы, зависит от веб-служб Exchange.
  
Веб-служб Exchange (EWS) — кроссплатформенный API-Интерфейс, который позволяет приложениям для доступа к элементов почтового ящика, такие как сообщения электронной почты, собрания и контакты из Exchange Online, Exchange Online в составе Office 365 или локальной версии Exchange, начиная с Exchange Server 2007. [Веб-служб Exchange приложения](ews-application-types.md) могут обращаться к элементов почтового ящика локально или удаленно, отправив запрос в сообщении XML на основе SOAP. Сообщения SOAP встраивается в HTTP-сообщения при отправке между приложением и сервером, что означает, что до тех пор, пока приложения могут публиковать XML с помощью HTTP, его можно использовать веб-служб Exchange для доступа к Exchange. 
  
## <a name="exchange-architecture-overview"></a>Обзор архитектуры Exchange
<a name="bk_techarch"> </a>

На следующей схеме показаны методы проверки подлинности и пути взаимодействия, используемых приложениями веб-служб Exchange при взаимодействии с Exchange 2013 и Exchange Online. С точки зрения приложения веб-служб Exchange идентичны пути взаимодействия и методы проверки подлинности только отличаться; Основное различие — это, у вас есть возможность просмотра базы данных Exchange.
  
**На рисунке 1. Приложение веб-служб Exchange и архитектура для локальной Exchange**

![Иллюстрация, показывающая приложение EWS в контексте локальной архитектуры Exchange. Описание компонентов этой диаграммы см. в пунктах 1–8 под этим и следующим изображениями.](media/Ex2013_ArchitecturesOverview.png)
  
На рисунке 2 показано же пути передачи данных показано на рисунке 1, как используется приложениями веб-служб Exchange при взаимодействии с Exchange Online.
  
**На рисунке 2. Приложение веб-служб Exchange и Exchange Online архитектуры**

![Иллюстрация, показывающая приложение EWS в контексте архитектуры Exchange Online для приложения EWS. Описание компонентов этой диаграммы см. в пунктах 1, 2, 3, 6 и 9 под изображением.](media/Ex2013_Architectures_Online.png)
  
Ниже приведены компоненты, отображаемые в схемах.
  
1. Приложение веб-служб Exchange — это может быть [клиента, портал или приложения-службы](ews-application-types.md) и может быть установлен на клиентском компьютере или на сервере клиентского доступа в локальной Exchange. Если используется управляемый API EWS для разработки приложений веб-служб Exchange, управляемый API EWS сборки должны быть установлены в клиенте и [распространять приложением](redistribution-requirements-for-the-ews-managed-api.md).
    
2. Сообщения SOAP XML — XML сообщения в конверте SOAP, внедренные в сообщении HTTP/S, соответствующий файл Services.wsdl на сервере клиентского доступа. HTTPS рекомендуется использовать локальную систему Exchange и является обязательным для Exchange Online. 
    
3. Методы проверки подлинности — веб-служб Exchange сообщения включают основные, сведения о проверке подлинности NTLM (встроенная проверка подлинности Windows) или OAuth как часть полезные данные HTTP. 
    
4. Служба балансировки нагрузки, балансировки нагрузки распределяет сообщения на сервер клиентского доступа в массива серверов клиентского доступа. Этот компонент отображается только в архитектуре в локальной Exchange.
    
5. Массива серверов клиентского доступа, серверов клиентского доступа сгруппированы в группу балансировку сетевой нагрузки с именем массива серверов клиентского доступа. Отдельные серверы клиентского доступа предоставляют службы проверки подлинности, только в режиме одобрения администратором и прокси-сервера. Серверы клиентского доступа, сами не любой визуализации данных и без данных в очередь или хранится на сервере клиентского доступа - это тонкий и автоматическую; просто проверяет подлинность запроса и выполняет запрос на сервере почтовых ящиков в просмотра автообнаружения и прокси-серверы. Сервер клиентского доступа Ведение отношение 1:1 с сервера почтовых ящиков, на котором размещаются данные о пользователе. Используется протокол HTTP (безопасное через SSL, с помощью самозаверяющего сертификата) между сервером клиентского доступа и сервера почтовых ящиков. Этот компонент отображается только в архитектуре в локальной Exchange.
    
6. Служба автообнаружения — службы автообнаружения выполняет обнаружение службы, доступ к доменных служб Active Directory (AD DS) для получения версии почтовых ящиков и расположение сервера почтовых ящиков, на котором размещен активной копии данных пользователя.
    
7. Служба веб-служб Exchange — служба веб-служб Exchange описывается три файла: Services.wsdl, Messages.xsd и Types.xsd, а также на сборки управляемого интерфейса API веб-служб Exchange. Services.WSDL описывает контракт между клиентом и сервером, Messages.xsd определяет запрос и ответ SOAP-сообщения, а Types.xsd элементов, используемых в сообщениях SOAP. Messages.xsd и Types.xsd всегда содержат последние версии схемы, несмотря на то, что существует более ранних версий схемы. Обратите внимание, что Services.wsdl, Messages.xsd и Types.xsd становятся доступными на сервере клиентского доступа, но не используются для проверки схемы — они предоставлены только для справки. Управляемый API EWS сборки предоставляются для клиентских приложений, веб-служб Exchange на сервере и развертываются на всех ролей сервера Exchange, не только на серверы клиентского доступа. Этот компонент отображается только в архитектуре в локальной Exchange.
    
    Доступность функций основано на версию схемы веб-служб Exchange, используемой для приложения. Так как схемы веб-служб Exchange — назад и вперед совместимость, если вы создаете приложения, предназначенного для предыдущей версии схемы, например, Exchange 2007 SP1 приложения также будут работать в более поздней версии схемы, таких как служба Exchange 2010 с пакетом обновления 2, а также Exchange Online. Так как возможности и функции обновления управляемых с помощью схемы, рекомендуется использовать раннюю общий базовый код, нацеленный функции веб-служб Exchange, которые необходимо реализовать в клиентском приложении. Многие приложения можно распределять версии Exchange2007_SP1, так как она Exchange 2007 с пакетом обновления 1 содержит почти все основные функциональные возможности Exchange для работы с элементов и папок в хранилище Exchange. Для получения дополнительных сведений см [веб-служб Exchange](ews-client-design-overview-for-exchange.md#EWSFeatures).
    
8. Группа доступности базы данных (DAG) — Серверы почтовых ящиков организованы высокодоступных обеспечения доступности баз данных, которая может быть развернута в один или несколько центров обработки данных. Сервер почтовых ящиков содержит базы данных почтовых ящиков и обрабатывает все действия, выполненные для активных почтовых ящиков на этом сервере. Все компоненты, которые обрабатывают, обработки и хранения данных, на сервере почтовых ящиков. Клиенты не подключаются непосредственно на сервер почтовых ящиков; все подключения к обрабатывается на сервере клиентского доступа. Этот компонент отображается только в архитектуре в локальной Exchange.
    
9. Exchange Online и Exchange Online в составе Office 365 — размещенного решения обмена мгновенными сообщениями, которая предоставляет возможности Exchange в облачную службу.
    
При веб-служб Exchange приложение запрашивает информацию из хранилища Exchange, сообщение запроса XML, который соответствует требованиям стандартных SOAP и отправляются на сервере Exchange. Когда на сервере Exchange получает запрос, проверяет учетные данные, предоставляемые клиентом и автоматически выполняет синтаксический анализ XML-код для запрошенные данные. Затем сервер составляет ответ SOAP, содержащий XML-данных, который представляет запрошенный строго типизированные объекты и их свойства. XML-данные, отправляется обратно в приложения в HTTP-ответа. Приложение затем десериализации XML-код и использует данные для новые строго типизированных объектов.
  
## <a name="protocols-and-standards-that-ews-applications-must-support"></a>Протоколы и стандарты, которые должны поддерживать приложения веб-служб Exchange
<a name="bk_standards"> </a>

Для взаимодействия с Exchange server, приложения веб-служб Exchange должны поддерживать следующие протоколы и стандартов.
  
**В таблице 1. Протоколы**

|**Протокол**|**Об использовании**|
|:-----|:-----|
|HTTP/S  <br/> |Позволяет приложениям веб-служб Exchange для доступа к данным базы данных Exchange по сети, независимо от того, является ли клиент — в Интернете или интрасети.  <br/> |
|SOAP 1.0  <br/> |Форм конверт вокруг обмена сообщениями полезных данных. Веб-служб Exchange с помощью различных частей конверте SOAP для включения другие функциональные возможности реализует протокола SOAP. Заголовок SOAP используется для олицетворения и предоставлять данные управления версиями. SOAP body сведения об операции для запуска и данные, предоставленные к операции. SOAP полагается на языке WSDL для описания операции для вызова.  <br/> |
|WSDL 1.0  <br/> |Описывает привязок, операции и свойства, используемые для вызова операции EWS в файле Services.wsdl. Этот файл, а также файлы схемы указывает ссылка, состоит из контракт между приложением веб-служб Exchange и Exchange server и часто используется вместе с специализированное средств для создания платформы приложений. WSDL-файл находится в виртуальном каталоге EWS, который находится в корневом каталоге веб-сайта.  <br/> |
|Transport Layer Security (TLS) / SSL  <br/> |Содержит безопасных веб-соединений в Интернете или интрасети. Протокол TLS позволяет приложениям для проверки подлинности серверов или, при необходимости серверов для проверки подлинности приложений веб-служб Exchange. Он также предоставляет безопасный канал с помощью шифрования связи. Протокол TLS является последней версии протокола Secure Sockets Layer (SSL).  <br/> |
|XML-/ XSD  <br/> |Предоставляет универсальные сообщение формате для обмена информацией между сервером Exchange и клиентом. XML предоставляет сложных данных из базы данных Exchange для клиентских приложений, но в определенной структуре. Преимущество XML состоит в том, что она позволяет для обмена данными даже в том случае, если приложение веб-служб Exchange и сервер не работает на общей платформе.  <br/> |
   
Кроме того приложения веб-служб Exchange должны поддерживать следующие стандартов проверки подлинности:
  
- Обычная проверка подлинности по протоколу SSL для приложений, предназначенных для Exchange Online или локальную систему Exchange.
    
- Проверка подлинности NTLM по протоколу SSL для приложений, которые поддерживают локальную систему Exchange.
    
- OAuth 2.0 маркера проверки подлинности для приложений доверенным партнером и взаимодействие с Lync Server 2013 и SharePoint Server 2013.
    
## <a name="see-also"></a>См. также


- [Начать работу с использованием веб-служб Exchange](start-using-web-services-in-exchange.md)
    
- [Типы приложений веб-служб Exchange](ews-application-types.md)
    
- [Общие сведения о разработке клиента EWS для Exchange](ews-client-design-overview-for-exchange.md)
    

