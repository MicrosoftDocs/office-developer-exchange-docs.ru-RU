---
title: Построение резервное копирование и восстановление приложений для Exchange 2013
manager: sethgros
ms.date: 09/17/2015
ms.audience: Developer
ms.topic: overview
ms.prod: office-online-server
localization_priority: Normal
ms.assetid: e5e952a5-add1-417c-a3c2-230f4dc99b00
description: Найдите сведения о компонентах и архитектуру резервное копирование и восстановление приложений для Exchange 2013 и требования к системе для создания резервной копии и восстановления приложения.
ms.openlocfilehash: e85a5364c40c472c9e1ea9d1d3b4e89329b1676f
ms.sourcegitcommit: 34041125dc8c5f993b21cebfc4f8b72f0fd2cb6f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/11/2018
ms.locfileid: "19760928"
---
# <a name="build-backup-and-restore-applications-for-exchange-2013"></a>Построение резервное копирование и восстановление приложений для Exchange 2013

Найдите сведения о компонентах и архитектуру резервное копирование и восстановление приложений для Exchange 2013 и требования к системе для создания резервной копии и восстановления приложения.
  
**Применимо к:** Exchange Server 2013 
  
[Служба теневого копирования томов (VSS)](http://msdn.microsoft.com/en-us/library/bb968832%28VS.85%29.aspx) можно использовать в версиях Windows Server, начиная с Windows Server 2008 для создания приложений, резервное копирование и восстановление данных Exchange Server 2013. Служба теневого копирования ТОМОВ предоставляет инфраструктуру, которая позволяет создавать и управлять теневые копии различных систем управления хранения сторонних производителей, бизнес-приложений и оборудования. Можно создавать решения, основанные на инфраструктуры служба теневого копирования ТОМОВ, которые используют теневые копии для резервного копирования и восстановления одной или нескольких баз данных Exchange 2013. 
  
## <a name="backup-and-restore-application-prerequisites"></a>Резервное копирование и восстановление необходимые компоненты приложения
<a name="bk_systemrequirements"> </a>

Чтобы настраиваемые резервного копирования и восстановления приложений и служба теневого копирования ТОМОВ для резервного копирования и восстановления баз данных Exchange 2013 среде необходимо относятся следующие:
  
- Версия Windows Server, начиная с Windows Server 2008 
    
- Exchange 2013
    
Кроме того Если вы создаете резервного копирования и восстановления приложения, следует иметь в виду следующие ограничения среды разработки:
  
- Служба теневого копирования ТОМОВ — это неуправляемые API COM, доступную с .NET Framework управляемого кода с помощью COM сборкой взаимодействия.
    
- Командная консоль Exchange — это управляемое приложение, к которому осуществляется с помощью .NET Framework управляемого кода.
    
- CHKSGFILES API, которое поставляется с Exchange 2013 — это 64-разрядная версия DLL машинного кода. Использование библиотеки DLL CHKSGFILES Exchange 2007 32-разрядная версия с базами данных Exchange 2013 не поддерживается.
    
## <a name="backup-and-restore-application-overview"></a>Общие сведения о приложений резервного копирования и восстановления
<a name="bk_components"> </a>

Служба теневого копирования ТОМОВ координирует взаимодействие между следующие компоненты: 
  
- Источник запроса VSS, являющийся резервной копии приложения
    
- Модуль записи VSS
    
- Поставщик VSS — это компоненты системы, программного обеспечения или оборудования, создание теневой копии
    
Для резервного копирования данных Exchange 2013 с помощью VSS, резервного копирования приложения необходимо быть запроса VSS принять во внимание Exchange 2013. Exchange 2013 включает в себя модуля записи VSS, называется записи Microsoft Exchange, программа резервного копирования Windows Server; Тем не менее модуля записи Exchange только выполняется резервное копирование всей тома. Он не выполняет резервное отдельных Exchange 2013 баз данных. Если вам требуется большая гибкость, можно использовать программа резервного копирования сторонних производителей с поддержкой Exchange VSS записи, можно работать с отдельными базами данных Exchange, или можно создать настраиваемые запроса VSS.
  
Прежде чем приложение вызывает служба теневого копирования ТОМОВ для инициации резервного копирования, его необходимо получить сведения о конфигурации хранилища для Exchange 2013 системы, в которой она выполняется резервное копирование. Эти сведения хранятся в доменных службах Active Directory (AD DS). Ваше приложение резервного копирования можно получить данные конфигурации хранилища Exchange с помощью команды командной консоли Exchange. Дополнительные сведения см в [Exchange Server PowerShell (Командная консоль Exchange)](https://docs.microsoft.com/en-us/powershell/exchange/exchange-server/exchange-management-shell?view=exchange-ps). 
  
Приложений резервного копирования Exchange 2013 вызов API COM служба теневого копирования ТОМОВ для создания полной, копирование, разностного и добавочного резервного копирования баз данных Exchange; они не прямого взаимодействия с модуля записи VSS. Группа доступности базы данных (DAG) функции в Exchange также позволяет приложения для создания полностью согласованные резервного копирования, даже в том случае, если полная резервная копия и более поздних версий добавочного резервного копирования поступают из различных серверов в группе DAG. После служба теневого копирования ТОМОВ создает копии данных Exchange, приложение резервного копирования хранит данные на предполагаемая носитель.
  
Для восстановления базы данных Exchange 2013, приложения восстановления извлекаются из носителя резервной копии базы данных и файлов журналов и сохраняет их на активной дисковое хранилище сервера Exchange. Отдельные базы данных не связаны с определенного сервера Exchange. 
  
Резервное копирование и восстановление приложений необходимо указать число параметры, относящиеся к Exchange 2013 для правильно контроля и управления операциями с VSS выполняться для баз данных Exchange 2013. К примеру так как Exchange 2013 поддерживает до 100 одновременно активных баз данных, приложение резервного копирования необходимо правильно указать и обработки файла базы данных, файлы журналов транзакций и компоненты базы данных файл контрольной точки.
  
Для восстановления базы данных, где изменения с момента последней полной резервной приложения восстановления требуется базы данных и файлы журнала из различных резервных копий. Например может потребоваться еженедельно полного резервного копирования и один или несколько ежедневного добавочного резервного копирования. В Exchange 2013 системами, использующими групп DAG, приложение восстановления можно перестроение базы данных с помощью резервных копий из копий различных баз данных на разных серверах в одном обеспечения доступности баз данных. Единственный способ восстановления из резервной копии базы данных группы доступности базы данных уже для восстановления всех активных и пассивных копий базы данных с помощью той же информации.
  
После размещения всех данных восстановления приложения сигналы Exchange для проверки целостности файлов базы данных и журналов. Если файлы базы данных и журналов были восстановлены правильно, на сервере Exchange можно затем воспроизвести файлы журналов базы данных для перевода базы данных в актуальном состоянии и подключить его. Если восстановления базы данных на сервер, который уже имеет активной копии базы данных подключить базу данных обрабатывается как восстановить базы данных. Если восстановления базы данных на другой сервер базы данных можно либо независимо друг от друга подключить или реплики можно добавить в группе DAG.
  
## <a name="backup-and-restore-system-architecture"></a>Архитектура системы резервного копирования и восстановления
<a name="bk_ExchangeVSS"> </a>

Служба теневого копирования ТОМОВ взаимодействует с файловой системы Windows Server и драйвер устройства хранения данных через поставщика сторонних производителей (или настраиваемые). Поставщик оборудования определяет, где будут создаваться теневой копии. Служба теневого копирования ТОМОВ выделяет аппаратно зависимые теневой копии, чтобы приложение резервного копирования и восстановления можно получить доступ к теневой копии без сведений о реализацию оборудования. На следующем рисунке показаны как резервное копирование и восстановление приложения взаимодействует с Exchange 2013 и Windows Server.
  
**На рисунке 1. Архитектура системы резервного копирования и восстановления**

![Диаграмма, показывающая взаимодействие приложений для резервного копирования и восстановления. Между Exchange, сервером Windows Server и клиентским приложением устанавливается двусторонняя связь. Сервер Windows также взаимодействует с запоминающим устройством или резервным носителем.](media/VSS_architecture_E2k7.gif)
  
Резервное копирование и восстановление приложения функции запроса VSS. Источник запроса взаимодействует с VSS для получения сведений о Exchange 2013, чтобы начать создание теневой копии и для получения доступа к данным для резервного копирования. 
  
Хранилище Exchange — это компонент Exchange 2013 и получает доступ к баз данных Exchange 2013 через файловой системы Windows Server. В файловой системе каждого сервера Exchange могут одновременно подключать до 100 баз данных с помощью их соответствующие файлы базы данных (EDB), файлы журнала транзакций и файл контрольной точки.
  
Для поддержки VSS Exchange 2013 включает в себя модуля записи Exchange, встроенной хранилище Exchange. Записи Exchange координирует работу с хранилищем Exchange (эксплуатация от имени инициатор запроса) и отсоединить базу данных перед резервным копированием и затем освободить и подключите базу данных после резервного копирования завершен. Во время восстановления резервное копирование и восстановление приложения указывает, что записи Exchange для координации с хранилищем Exchange отсоединить базу данных, замените файлы баз данных, подключите базу данных и для последующего воспроизведения журналов транзакций (при необходимости).
  
Во время восстановления источник запроса также взаимодействует с VSS для подготовки системы для восстановления и затем поместить данные обратно на устройстве хранения данных. Резервное копирование и восстановление приложения также несет ответственность за работы с Windows Server для считывания данных из и записи данных в носитель резервной копии, является ли архивировать ленты, сети хранения данных или других средств резервного копирования.
  
Можно подключить восстановленной базы данных, как обычный, активной базы данных или базы данных восстановления Exchange 2013. Только один подключенная база данных могут быть обозначены как восстановления базы данных на каждом сервере Exchange.
  
Сведения, необходимые для успешного выполнения резервного копирования и восстановления операций Exchange 2013, служба теневого копирования ТОМОВ, и приложение резервного копирования и восстановления, передаются в составе метаданных модуля записи Exchange.
  
## <a name="in-this-section"></a>В этом разделе
<a name="bk_inthissection"> </a>

- [Типы операций резервного копирования для Exchange 2013](types-of-backup-operations-for-exchange-2013.md)
    
- [Восстановление баз данных Exchange 2013](restoring-exchange-2013-databases.md)
    
- [Проверка целостности резервной копии с помощью CHKSGFILES API в Exchange 2013](how-to-validate-backup-integrity-by-using-the-chksgfiles-api-in-exchange.md)
    
- [Проверка целостности резервной копии с помощью средства Eseutil в Exchange 2013](how-to-validate-backup-integrity-by-using-the-eseutil-tool-in-exchange-2013.md)
    
## <a name="see-also"></a>См. также

- [Резервное копирование и восстановление для Exchange](backup-and-restore-for-exchange-2013.md) 
- [Справочник по CChkSGFiles классов](cchksgfiles-class-reference.md) 
- [Служба теневого копирования томов](http://msdn.microsoft.com/en-us/library/bb968832%28VS.85%29.aspx) 
- [Windows PowerShell](http://msdn.microsoft.com/en-us/library/dd835506%28v=vs.85%29.aspx)
    

