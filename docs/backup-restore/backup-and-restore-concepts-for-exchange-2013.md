---
title: Основные понятия резервного копирования и восстановления для Exchange 2013
manager: sethgros
ms.date: 09/17/2015
ms.audience: Developer
ms.topic: overview
ms.prod: office-online-server
localization_priority: Normal
ms.assetid: 9a1c4709-9313-4ccf-9f8a-673a51d51f23
description: Найдите сведения о базах данных Exchange, которые помогут вам создать приложения резервного копирования и восстановления для Exchange 2013.
ms.openlocfilehash: fd35699839af105dd3fe285776b071c1d03d58dd
ms.sourcegitcommit: 88ec988f2bb67c1866d06b361615f3674a24e795
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/31/2020
ms.locfileid: "44437986"
---
# <a name="backup-and-restore-concepts-for-exchange-2013"></a>Основные понятия резервного копирования и восстановления для Exchange 2013

Найдите сведения о базах данных Exchange, которые помогут вам создать приложения резервного копирования и восстановления для Exchange 2013.
  
Перед созданием приложений для резервного копирования и восстановления для Exchange Server 2013 необходимо ознакомиться со структурой файлов базы данных Exchange. С помощью файлов базы данных хранилища Exchange можно создавать резервные копии данных в хранилище и восстанавливать их позднее при необходимости. Если свободное место на диске ограничено, администратор может реализовать циклическое ведение журнала, и это повлияет на возможность резервного копирования базы данных. Вы также можете воспользоваться функцией мобильности баз данных в Exchange 2013 для резервного копирования и восстановления данных Exchange. Мобильность баз данных в сочетании с приложением резервного копирования и восстановления является хорошим показателем избыточности для аварийного восстановления.

<a name="bk_exchangedatabases"> </a>

## <a name="exchange-store-database-files"></a>Файлы базы данных хранилища Exchange

Exchange 2013 включает поддержку до 100 баз данных. В каждой базе данных Exchange 2013 содержатся файлы, перечисленные в следующей таблице. 
  
**Таблица 1. Файлы базы данных Exchange 2013**

|Тип файла|Расширение|Описание|
|:-----|:-----|:-----|
|Файл базы данных  <br/> |\*EDB  <br/> |Записывает все изменения, которые были зафиксированы в базе данных в памяти.  <br/> |
|Поток журнала транзакций  <br/> |\*. log  <br/> |Записывает операции, такие как создание или изменение сообщения, которые будут зафиксированы в базе данных. Размер каждого из них ограничен на 1 МБ.  <br/> |
|Файл контрольных точек  <br/> |\*CHK  <br/> |Записи, в которых записаны транзакции, записанные в файлы базы данных на диске.  <br/> |
   
Exchange 2013 поддерживает единый набор файлов журналов транзакций для каждой базы данных. Журналы транзакций важны для операций резервного копирования и восстановления. При создании приложения для резервного копирования и восстановления, использующего службу теневого копирования томов (VSS), необходимо убедиться, что эти журналы обрабатываются правильно. Дополнительные сведения см. [в статье журналы транзакций и файлы контрольных точек для резервного копирования и восстановления в Exchange 2013](transaction-logs-and-checkpoint-files-for-backup-and-restore-in-exchange.md). Для резервного копирования базы данных и ее потока журнала необходимо выполнить резервное копирование всего тома, содержащего базу данных и журналы. Усечение журнала выполняется только после успешного завершения полной резервной копии тома или папок, содержащих базу данных Exchange.
  
На каждом сервере Exchange Server одновременно можно подключить только одну базу данных восстановления. Доступ к базе данных восстановления можно получить с помощью командлетов командной консоли Exchange, например **New — MailboxRestoreRequest**. Дополнительные сведения о базах данных восстановления Exchange можно найти в статье [базы данных восстановления](https://technet.microsoft.com/library/dd876954%28v=exchg.150%29.aspx) на сайте TechNet. Дополнительные сведения об командлетах командной консоли Exchange приведены в статье [командлеты exchange 2013](https://technet.microsoft.com/library/bb124413.aspx) на сайте TechNet. 
  
## <a name="circular-logging"></a>Циклическое ведение журнала
<a name="bk_circularlogging"> </a>

Если в емкости хранилища возникла ошибка, администратор может включить циклическое ведение журнала. Когда циклическое ведение журнала включено, Exchange записывает журналы транзакций как обычно, но если файл контрольной точки является дополнительным, неактивная часть журнала транзакций усекается. Администратор не должен настраивать базы данных Exchange 2013 для использования циклического ведения журнала, если вы также планируете использовать VSS для поддержки пользовательских операций резервного копирования и восстановления. Циклическое ведение журнала создает следующие ограничения: 
  
- Если эта функция включена во время операции резервного копирования или восстановления, восстановление отдельных баз данных невозможно.
    
- Возможны только операции восстановления на момент времени. Когда циклическое ведение журнала включено, вы можете удалять журналы транзакций в том же каталоге при восстановлении базы данных, хотя эти журналы могут быть частью другой базы данных Exchange 2013. 
    
- Добавочные и разностные операции резервного копирования выполнить невозможно. Дополнительные сведения об этих типах резервных копий приведены в статье [типы операций резервного копирования для Exchange 2013](types-of-backup-operations-for-exchange-2013.md).
    
Если включено циклическое ведение журнала, администратор должен как можно скорее отключить его, чтобы избежать отказа в резервных копиях VSS. Дополнительные сведения см. в разделе [циклическое ведение журнала Exchange и резервное копирование VSS](https://blogs.technet.com/b/exchange/archive/2010/08/18/3410672.aspx). 
  
## <a name="exchange-database-mobility"></a>Мобильность базы данных Exchange
<a name="bk_exchangedatabasemobility"> </a>

Exchange 2013 обеспечивает мобильность базы данных для повышения надежности и доступности почтовых ящиков. Мобильность баз данных позволяет создавать копии базы данных хранилища Exchange, отключать базу данных от сервера и хранить ее на другом сервере. В группе обеспечения доступности баз данных Exchange 2013 (DAG) несколько копий базы данных хранятся на разных компьютерах. Когда одна или несколько копий базы данных теряются из-за аппаратного или иного сбоя системы, сведения из других копий можно использовать для повторного заполнения базы данных с помощью обычных операций репликации.
  
Для операций резервного копирования, если базы данных Exchange 2013, которые необходимо архивировать, настроены в группе DAG, приложение резервного копирования может лучше предотвратить помехи между снимком и производительностью активного сервера, отменив моментальный снимок одной из неактивных копий базы данных. Так как копии базы данных для большей части синхронизированы, приложение резервного копирования может создавать моментальные снимки из разных копий базы данных, а затем заново воссоздать их из частей.
  
Единственный поддерживаемый метод восстановления баз данных DAG из резервных данных — восстановление всех копий базы данных с использованием одних и тех же архивных данных. Так как файлы журнала базы данных могут слегка отличаться между копиями, восстановление отдельных копий базы данных с использованием разных данных может привести к тому, что база данных станет недоступна.
  
## <a name="in-this-section"></a>В этой статье
<a name="bk_inthissection"> </a>

- [Журналы транзакций и файлы контрольных точек для резервного копирования и восстановления в Exchange 2013](transaction-logs-and-checkpoint-files-for-backup-and-restore-in-exchange.md)
    
- [Модуль записи Exchange в Exchange 2013](exchange-writer-in-exchange-2013.md)
    
## <a name="see-also"></a>См. также

- [Разработки для Exchange Online и Exchange](../exchange-server-development.md) 
- [Типы операций резервного копирования для Exchange 2013](types-of-backup-operations-for-exchange-2013.md)
- [Восстановление баз данных Exchange 2013](restoring-exchange-2013-databases.md)
    

