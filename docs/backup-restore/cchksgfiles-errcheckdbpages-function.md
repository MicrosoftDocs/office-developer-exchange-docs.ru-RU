---
title: Функция CChkSGFiles.ErrCheckDbPages
manager: sethgros
ms.date: 11/16/2014
ms.audience: Developer
ms.topic: overview
ms.prod: office-online-server
localization_priority: Normal
api_name:
- ErrCheckDbPages
api_type:
- dllExport
ms.assetid: 5e981a7c-28cd-470c-b7eb-606463e9dd05
description: 'Последнее изменение: 22 февраля 2013 г.'
ms.openlocfilehash: f1588b1dbc4bd7e83683fa4432a175405ad17903
ms.sourcegitcommit: 34041125dc8c5f993b21cebfc4f8b72f0fd2cb6f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/11/2018
ms.locfileid: "19760919"
---
# <a name="cchksgfileserrcheckdbpages-function"></a>Функция CChkSGFiles.ErrCheckDbPages

**Применимо к:** Exchange Server 2003 | Exchange Server 2007 | Exchange Server 2010 | Exchange Server 2013
  
Проверяет диапазон страниц в указанной базе данных. 
  
```cs
Vitual ERRErrCheckDbPages  
(
    Const ULONGiDb,
    Const VOID  * const pvPageBuffer,
    Const ULONGcbPageBuffer,
    PAGE_INFOrgPageInfo[],
    Const ULONGcPageInfo,
    Const ULONGulFlags = NO_FLAGS
);

```

## <a name="parameters"></a>Parameters

### <a name="idb"></a>iDb
  
Входного параметра. Индекс массива баз данных, указанной в параметре **[] rgwszDb** в функцию **ErrInit** . Базы данных, индексированные данный параметр будет проверяться. 
    
### <a name="pvpagebuffer"></a>pvPageBuffer 
  
Входного параметра. Указатель на буфер, содержащий один или несколько страниц базы данных для проверки. Размер буфера должен быть несколько страниц размера базы данных, как с помощью параметра **pcbDbPageSize** возвращаемых функцией **ErrCheckDbHeaders** . До вызова метода **ErrCheckDbPages**вызывающему приложению необходимо переполнить буфер с содержимым страниц базы данных.
    
### <a name="cbpagebuffer"></a>cbPageBuffer
  
Входного параметра. Размер параметр **pvPageBuffer** в байтах. Это значение должно быть несколько страниц размера базы данных, как с помощью параметра **pcbDbPageSize** возвращаемых функцией **ErrCheckDbHeaders** . 
    
### <a name="rgpageinfo"></a>[rgPageInfo] 
  
Параметр ввода вывода. Массив **Страница\_INFO** структуры, которые заполняет **ErrCheckDbPages** подробные результаты каждой странице базы данных, который копируется обратно. Массив должен иметь один элемент для каждой базы данных страницы, переданной в параметр **pvPageBuffer** , а также поле **ulPgno** в каждом **Страница\_INFO** структуры должен иметь значение логической страницы номер, соответствующий на страницу базы данных. Дополнительные сведения см в разделе «Примечания» далее в этом разделе. 
    
### <a name="cpageinfo"></a>cPageInfo
  
Входного параметра. Число записей в массив **rgPageInfo []** . Это значение должно быть равно числу страниц базы данных, переданной в параметре **pvPageBuffer** . 
    
### <a name="ulflags"></a>ulFlags 
  
Необязательный параметр ввода. Это значение зарезервировано для будущего использования. Значение, переданное в этот параметр должен быть нуль (0).
    
## <a name="return-value"></a>������������ ��������

Код ошибки из перечисления [ERR](cchksgfiles-err-enumeration.md) . 
  
## <a name="remarks"></a>Замечания

Обратите внимание, что необходимо указаны в массиве баз данных, переданных функции **ErrInit** базы данных. Кроме того необходимо вызвать **ErrCheckDbHeaders** перед **ErrCheckDbPages**.
  
Вызывающему приложению необходимо выделить буфер памяти, достаточное для хранения страниц базы данных для проверки. Приложение отвечает за заполнение буфера содержимое одного или нескольких таких страниц базы данных. 
  
Вызывающему приложению необходимо вызвать **ErrCheckDbHeaders** перед вызовом **ErrCheckDbPages**. Эта функция может быть вызвана любое число раз на случай всех страниц на все файлы базы данных, которые требуется проверить.
  
В параметре **[] rgPageInfo** каждый возвращаемый элемент содержит сведения о странице базы данных в **Страница\_INFO** структуры. Если функция **ErrCheckDbPages** возвращает ошибку, приложение должно проверять каждый **Страница\_INFO** структуры, чтобы определить, на какую страницу обнаружены ошибки. Например, для сравнения значения **checksumActual** и **checksumExpected** появится сообщение о том обнаружена ли ошибка контрольной суммой на этой странице базы данных. 
  
Если **ErrCheckDbPages** обнаруживает все ошибки в базе данных контента, она будет создана запись в журнал событий Windows ошибки. 
  
Объект **CChkSGFiles** определяет проверены ли все базы данных, зарегистрированные с помощью функции **ErrInit** . В частности **CChkSGFiles** функция **ErrCheckDbPages** для определения предназначены ли такое же число страниц базы данных, указанный в параметре **ErrCheckDbHeaders** . Если не были успешно установлен правильный число страниц в каждой базе данных, функция **ErrTerm** возвращает ошибку. 
  
Если вы используете многопоточного приложения CHKSGFILES, можно вызвать функцию **ErrCheckDbPages** в многопоточные части приложения. Обратите внимание на то, что **ErrCheckDbPages** обычно вызывается несколько раз для каждой базы данных, который копируется обратно. 
  
## <a name="requirements"></a>Требования

Exchange 2013 включает в себя только 64-разрядная версия CHKSGFILES API-интерфейса.
  
Учетная запись, приложения в разделе должен иметь разрешения на чтение базы данных и журналов файлов, которые должны быть возвращены.
  

