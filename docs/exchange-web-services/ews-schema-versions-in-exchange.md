---
title: Версии схемы веб-служб Exchange в Exchange
manager: sethgros
ms.date: 03/9/2015
ms.audience: Developer
localization_priority: Normal
ms.assetid: d1ab6f9c-ea91-4022-830d-7f7b759e3935
description: Сведения о веб-служб Exchange, схемы и как создавать приложения для работы с его, а также компонентов, доступных в каждой версии схемы и как схема относится к версии службы Exchange.
ms.openlocfilehash: dd8e85547666ba0bf3a1a38775260268594f2a8b
ms.sourcegitcommit: 34041125dc8c5f993b21cebfc4f8b72f0fd2cb6f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/25/2018
ms.locfileid: "19760960"
---
# <a name="ews-schema-versions-in-exchange"></a>Версии схемы веб-служб Exchange в Exchange

Сведения о веб-служб Exchange, схемы и как создавать приложения для работы с его, а также компонентов, доступных в каждой версии схемы и как схема относится к версии службы Exchange.
  
Схема веб-служб Exchange определяет структуры данных, которые отправляются и возвращенный сервером Exchange Server. Каждой новой версии Exchange, которая содержит значительные изменения к функциям веб-служб Exchange будет содержать новую схему. Веб-служб Exchange и схемы веб-служб Exchange являются обратной, а в некоторых случаях прямой совместимостью - будут работать приложения, предназначенные для более ранних версий веб-служб Exchange, в большинстве случаев более поздних версиях веб-служб Exchange, и приложения, предназначенные для более поздние версии веб-служб Exchange будут работать, если же функциональные возможности была включена в более ранней версии. Эта статья поможет вам понять роль схемы веб-служб Exchange, как работает управление версиями отношения между версии схемы и версию обновления и как создавать приложения для работы с использованием схемы веб-служб Exchange. 
  
## <a name="role-of-the-ews-schema"></a>Роль схемы веб-служб Exchange

Схема веб-служб Exchange выполняет следующие действия:
  
- Определяет набор компонентов, доступные в клиент. Клиент можно получить список поддерживаемых схемы версий с помощью SOAP [службы автообнаружения](autodiscover-for-exchange.md). Клиент может определить компонентов, которые он может получить доступ к, так как каждый версии схемы представляет [набор функций веб-служб Exchange](ews-schema-versions-in-exchange.md#bk_features). Каждый новый схемы, выпущенные для веб-служб Exchange содержит сущности схемы из предыдущей версии, а также определения схем для новых функциональных возможностях. Таким образом, веб-служб Exchange поддерживает приложения, предназначенные для более ранней версии веб-служб Exchange.
    
- Общее описание API контракта. Этот контракт можно использовать для определения структуры данных, отправленных и полученных от Exchange.
    
- Механизм управления версиями для отправки запросов. Exchange server содержит все поддерживаемые веб-служб Exchange схемы версии в его виртуального каталога. 
    
## <a name="designing-your-application-with-schema-version-in-mind"></a>Разработка приложений с помощью версии схемы в виду

При разработке приложения для работы с различными версиями схемы веб-служб Exchange необходимо учитывайте следующие моменты:
  
- Включить или отключить функциональные возможности на основании версии схемы. Может потребоваться для сопоставления функциональные возможности клиента для версии схемы и, в некоторых случаях до версии службы. Следующий пример возвращает [PropertySet](http://msdn.microsoft.com/en-us/library/office/microsoft.exchange.webservices.data.propertyset%28v=exchg.80%29.aspx) , основанные на версию схемы и службы. 
    
  ```cs
  private static PropertySet InitPropertySetByVersion(ExchangeService service)
  {
      PropertySet props;
      // The schema version to target to access the NormalizedBody property 
      // is Exchange2013 or later. The server version to target to access the 
      // NormalizedBody property on an email is 15 or later, which 
      // equates to Exchange 2013.
      if (service.RequestedServerVersion >= ExchangeVersion.Exchange2013 &amp;&amp;
          service.ServerInfo.MajorVersion >= 15)
      {
          props = new PropertySet(EmailMessageSchema.NormalizedBody);
      }
      else
      {
          props = new PropertySet(EmailMessageSchema.Body);
      }
      return props;
  }
  ```

- Версия запросы с самая ранняя версия схемы веб-служб Exchange, которое поддерживает функциональную возможность необходимо использовать. Клиент за создание применимы к большего количества потенциальных серверов Exchange. Менее важно при разработке приложения бизнес-только серверы вашей организации, но очень важно при создании приложения для более широкой аудитории Exchange.
    
## <a name="features-by-schema-version"></a>Функции по версии схемы
<a name="bk_features"> </a>

Версии схемы, доступные в клиент определены в простом типе **ExchangeVersionType** , расположенный в схеме types.xsd. **ExchangeVersionType** реализуется элемент [RequestServerVersion](http://msdn.microsoft.com/library/af4032d5-42b3-463e-9d0a-8236d78e5b75%28Office.15%29.aspx) . Элемент **RequestServerVersion** сообщения во всех запросах веб-служб Exchange, указывающий на сервере версии схемы целевых показателей клиента. В свою очередь определяет набор функций, доступных для клиента. 
  
**В таблице 1: Функции веб-служб Exchange по продукту и версии схемы**

|**Версия продукта**|**Версия связанного схемы**|**Функции**|
|:-----|:-----|:-----|
|Exchange Online  |Последние версии схемы.  |Включает все возможности в текущей версии Exchange в дополнение к все новые функции, которые добавлены для клиентов online. |
|Exchange 2013 с пакетом обновления 1 (SP1) |Exchange2013_SP1 | Включает все возможности в Exchange 2013.<br/><br/>Следующие возможности были представлены в Exchange 2013 с пакетом обновления 1: <ul><li>[Политики удержания почтового ящика](http://msdn.microsoft.com/en-us/library/office/microsoft.exchange.webservices.data.exchangeservice.setholdonmailboxes%28v=exchg.80%29.aspx) </li><li> [Предложение нового времени](how-to-propose-a-new-meeting-time-by-using-ews-in-exchange.md) </li><li>  Прочитать уведомление обновления для [обновления](http://msdn.microsoft.com/EN-US/library/office/dn600559%28v=exchg.80%29.aspx) и [удаления](http://msdn.microsoft.com/EN-US/library/office/dn600557%28v=exchg.80%29.aspx) элементов  </li><li> Обновление [сведений IRM](http://msdn.microsoft.com/EN-US/library/office/microsoft.exchange.webservices.data.conversation.hasirm%28v=exchg.80%29.aspx) для бесед  </li></ul> |
|Exchange 2013   |Exchange2013   | Включает в себя все возможности, представленные в Exchange 2007 и Exchange 2010. <br/><br/>Следующие возможности были представлены в Exchange 2013:<ul><li>Архивации  </li><li>  Обнаружение электронных данных  </li><li>  Фиктивные пользователи  </li><li>  Политики хранения  </li><li>  Единое хранилище контактов  </li><li>  Фотографии пользователя  </li></ul> |
|Exchange 2010 SP2   |Exchange2010_SP2 | Включает в себя все возможности, представленные в Exchange 2010 с пакетом обновления 1. <br/><br/>Следующие возможности были представлены в Exchange 2010 с пакетом обновления 2:<ul><li>Получение истечение срока действия пароля  </li><li>  Точность даты и времени  </li><li>  Идентификаторы текущее значение свойства для контактов  </li><li>  Новые сценарии олицетворения  </li></ul> |
|Exchange 2010 SP1  |Exchange2010_SP1   | Включает в себя все возможности, представленные в Exchange 2010. <br/><br/>Следующие возможности были представлены в Exchange 2010 с пакетом обновления 1:<ul><li>Создание, извлечение и изменения правил папки "Входящие"  </li><li>  Программный доступ к архивного почтового ящика  </li><li>  Действия беседы  </li><li>  Обход уведомления о настройках брандмауэра  </li><li>  Улучшенные методы администрирования компонентов  </li><li>  Улучшенная поддержка смешанной версии  </li><li>  Регулирование поддержка защиты  </li><li>  Контроль доступа приложения к веб-служб Exchange  </li><li>  Поддержка проверки подлинности сертификата клиента  </li></ul> |
|Exchange 2010  |Exchange2010   | Включает в себя все возможности, представленные в Exchange 2007 с пакетом обновления 1. <br/><br/>Следующие возможности были представлены в первоначальной версии Exchange 2010:<ul><li>Полный список рассылки Private  </li><li>  Настройка пользовательских объектов  </li><li>  Папка связанных элементов  </li><li>  Отслеживание сообщений  </li><li>  Единая система обмена сообщениями  </li><li>  Автообнаружение SOAP  </li><li>  Расширенная поддержка часового пояса  </li><li>  Сведения о доступности ресурса комнаты  </li><li>  Индексированные поиска  </li><li>  Access корзины  </li><li>  Сведения о почтовых подсказок  </li></ul> |
|Exchange 2007 SP1   |Exchange2007_SP1  | Включает в себя все возможности, представленные в Exchange 2007. <br/><br/>Следующие возможности были представлены в Exchange 2007 с пакетом обновления 1:<ul><li>Делегирование управления  </li><li>  Разрешения для папки  </li><li>  Общие папки  </li><li>  Элементы  </li><li>  Идентификатор преобразования  </li></ul>|
|Exchange 2007  |Exchange2007 | В первоначальной версии Exchange 2007 были представлены следующие функции:<ul><li>Полный доступ к элементам, папок и вложений (Создание, получение, обновление, удаление)  </li><li>  Availability  </li><li>  Настройки Office  </li><li>  Уведомления  </li><li>  Синхронизация  </li><li>  Разрешение имен  </li><li>  Расширения Присутствия в списке рассылки  </li><li>  Поиск  </li></ul> |
   
## <a name="relationship-between-the-ews-schema-and-the-service-version"></a>Связь между схемы веб-служб Exchange и версию обновления
<a name="bk_features"> </a>

Версия схемы веб-служб Exchange связана с версией службы веб-служб Exchange, на котором работает сервер. Шаблон именования для схемы веб-служб Exchange связана с локальной версии Exchange. Например в первоначальном выпуске Exchange 2013 имеет версию обновления 15.00.0516.032 и **Exchange2013**имя схемы. Поскольку обновления схемы для Exchange 2013 Exchange 2013 и Exchange Online с версию обновления 15.00.0516.032 и более поздних версий совпадают версии для последних схемы. В более ранних версиях Exchange схемы веб-служб Exchange не был обновлен с помощью накопительного обновления (ранее — накопительные пакеты обновления). Однако поскольку Exchange чаще обновляется для поддержки Exchange Online, накопительные пакеты обновления теперь содержит обновления схемы для веб-служб Exchange. Имена файлов схемы и имя связанного схемы версии обновляются только с пакетами обновления или основных выпусках локальную систему Exchange.
  
Хотя схемы веб-служб Exchange заданы контракта, в некоторых сценариях, версию обновления является единственным способом для клиента определить, как должен для взаимодействия со службой. Изменения поведения службы, которые не отражены в схеме можно определить только версию обновления, возвращаемых в всех ответов веб-служб Exchange. К примеру при были измененной [общих папок](public-folder-access-with-ews-in-exchange.md) в Exchange 2013 этих операций, которые используются для перемещения и копировать, изменить общедоступные папки. Если вы клиента для копирования общих папок в Exchange 2010, необходимо обновить его, чтобы использовать различные операции для получения тем же в Exchange 2013. 
  
## <a name="how-the-ews-schema-is-updated"></a>Обновление схемы веб-служб Exchange
<a name="bk_features"> </a>

Серверы Exchange версии Exchange, начиная с Exchange 2007 включают схемы веб-служб Exchange в виртуальном каталоге, на котором размещается служба веб-служб Exchange. Текущая версия схемы всегда имеет файлы types.xsd и messages.xsd. На рисунке 1 показано, как разделенными схемы messages.xsd при разработке новой версии схемы. Перед добавлением новых возможностей копию первоначальной схемы messages.xsd включен и переименованы для представления предыдущей версии схемы. Файл messages.xsd затем добавлены описания службы для новой версии.
  
**На рисунке 1. Обновление схемы веб-служб Exchange**

![Рисунок, на котором показано, как обновляется схема EWS. Последняя версия схемы раздвоена и переименована, чтобы представлять предыдущую версию, а последнее имя файла представляет текущую версию.](media/Ex15_EWS_Schema_Update1.png)
  
До обновления схемы веб-служб Exchange для новой версии текущая версия схемы разделенными и переименован, используя следующее соглашение:
  
`<schemaname>-<majorserverversion><servicepack>.xsd`
  
Выберите имя исходного файла представляет последние схему. Все новые функции добавляются последние схемы, за исключением обновления и исправления для более ранних версий схемы. 
  
## <a name="see-also"></a>См. также

- [Версии схемы веб-служб Exchange в Exchange](ews-schema-versions-in-exchange.md) 
- [Автообнаружение для Exchange](autodiscover-for-exchange.md) 
- [Разработка клиентов веб-служб для Exchange](develop-web-service-clients-for-exchange.md)
    

