---
title: Функция CChkSGFiles.ErrCheckLogs
manager: sethgros
ms.date: 11/16/2014
ms.audience: Developer
ms.topic: overview
ms.prod: office-online-server
localization_priority: Normal
api_name:
- ErrCheckLogs
api_type:
- dllExport
ms.assetid: cec0df4b-4679-4682-bacf-69b4f4aef343
description: 'Последнее изменение: 22 февраля 2013 г.'
ms.openlocfilehash: 5b1070de73bc23ae09ddb7835bd72c8e8a71a95f
ms.sourcegitcommit: 34041125dc8c5f993b21cebfc4f8b72f0fd2cb6f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/11/2018
ms.locfileid: "19760922"
---
# <a name="cchksgfileserrchecklogs-function"></a>Функция CChkSGFiles.ErrCheckLogs

**Применимо к:** Exchange Server 2003 | Exchange Server 2007 | Exchange Server 2010 | Exchange Server 2013
  
Проверка файлов журнала всех файлов базы данных, которые были указаны в функции **ErrInit** . Проверенный журналы — это списки, находящихся в пути, а, у которых имя файла журнала базового трех букв, переданной в **ErrInit**.
  
```cs
Vitual ERRErrCheckLogs 
(
        BOOL  * const pfOnlyUnnecessaryLogsCorrup,
    Const ULONGulFlags = NO_FLAGS
);

```

## <a name="parameters"></a>Parameters

### <a name="pfonlyunnecessarylogscorrupt"></a>pfOnlyUnnecessaryLogsCorrupt 
  
Выходной параметр. Если **значение true**, этот параметр указывает, что в файлы журнала транзакций, но эти ошибки обнаружены ошибки были все найденные в файлах журнала, которые не требуются для приведения базы данных в состояние чистого отключения без потери данных. Значение **true** , возвращаемых в этот параметр действителен только в том случае, если **ErrCheckLogs** возвращает **errSuccess**. 
    
### <a name="ulflags"></a>ulFlags
  
Необязательный параметр ввода. Это значение зарезервировано для будущего использования. Значение, переданное в этом параметре должны быть нуль (0).
    
## <a name="return-value"></a>������������ ��������

Код ошибки из перечисления [ERR](cchksgfiles-err-enumeration.md) . 
  
Важно помнить, что эта функция может вернуть **errSuccess** даже в том случае, если найдены ошибки в файлах журналов. Таким образом при возвращении **errSuccess** **ErrCheckLogs** приложения также должен проверить, возвращаемого параметра **pfOnlyUnnecessaryLogsCorrupt** . Если **pfOnlyUnnecessaryLogsCorrupts** имеет **значение true** , если **ErrCheckLogs** возвращает **errSuccess**, это указывает на то, что один или несколько были найдены ошибки, но только в файлы журналов не требуется, чтобы перевести базу данных.
  
## <a name="remarks"></a>Замечания

Функция **ErrCheckDbHeaders** должна вызываться перед можно вызвать функцию **ErrCheckLogs** . 
  
При извлечении файлы журнала транзакций базы данных Exchange, некоторые файлы журнала будет необходимые для обновления баз данных в группе хранения в состояние чистого отключения без потери данных, в то время как другие файлы журналов может не потребоваться. Функция **ErrCheckLogs** определяет наиболее старых и новых файлы журнала, которые требуются для переноса базы данных в актуальном состоянии. 
  
Функция **ErrCheckLogs** проверяет все файлы журналов в указанного пути, также имеют указанного трех букв базового имени файла, как переданных функции **ErrInit** . 
  
Если ошибок не найдено в файлах журналов, **ErrCheckLogs** возвращает **errSuccess**. 
  
Если любой из файлов журналов найдены поврежден, **ErrCheckLogs** возвращает ошибку. 
  
При наличии ошибок только в файлах журнала, возраст которых превышает ранней из них требуется, функция возвращает **errSuccess** и задает возвращаемый параметр **pfOnlyUnnecessaryLogCorrupt** значение **true**. Приложение должно распознавать, что в некоторых из этих старые файлы журнала ошибок, и если да, он будет уведомить пользователя. В любом случае эти ошибки не влияет на общее целостности базы данных или влияет на воспроизведение журналов переадресовывать будет выполнена успешно.
  
При наличии ошибок в любом файле журнала, созданная после самая ранняя необходимые журнала, который определяет **ErrCheckLogs** , функция возвращает ошибку. Ошибки будут возвращены, даже если обнаружена ошибка файла журнала в файл журнала, который был создан более поздней версии, чем является необходимые для перевода базы данных в актуальном состоянии. Несмотря на то, что можно было бы для переноса баз данных в состояние чистого отключения с помощью файлов определенного журнала, операций, указанных в файлах позднее поврежденный журнал будет не применяется, что приводит к потере данных при восстановлении базы данных. 
  
Объект **CChkSGFiles** определяет, будет ли все файлы журнала, зарегистрированные с помощью функции **ErrInit** фактически были возвращены. Если не всех журналов были не установлен успешно, функция **ErrTerm** возвращает ошибку. 
  
Если вы используете многопоточного приложения CHKSGFILES, можно вызвать функцию **ErrCheckLogs** в многопоточные части приложения, но его можно вызвать только один раз для каждого объекта **CCheckSGFiles** . 
  
## <a name="requirements"></a>Требования

Exchange 2013 включает в себя только 64-разрядная версия CHKSGFILES API-интерфейса.
  
Учетная запись, приложения в разделе необходимо иметь разрешения доступ на чтение для файлов базы данных и журналов, которые требуется проверить.
  

